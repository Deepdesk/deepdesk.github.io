/*! For license information please see plugin.js.LICENSE.txt */
!function(){var e={965:function(e,t,n){"use strict";n.r(t),n.d(t,{Badge:function(){return Xr},Card:function(){return rs},ContentEditableInput:function(){return Cs},DeepdeskAPI:function(){return Ls},DeepdeskPluginBridge:function(){return Qs},DeepdeskSDK:function(){return Xs},InputMediator:function(){return Ts},InputType:function(){return Uo},KeyboardHint:function(){return ci},Label:function(){return ei},Locale:function(){return Ms},Overlay:function(){return ta},Section:function(){return Qi},SectionList:function(){return ts},Sources:function(){return jo},Suggestion:function(){return oi},SuggestionList:function(){return pi},TextAreaInput:function(){return Gs},ToggleButton:function(){return wi},createOverlayContainer:function(){return Ys},useStyles:function(){return Fr}});var o,r,i,s,a,u=n(296),l=n.n(u),c={},d=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var o,r,i,s=arguments,a={};for(i in t)"key"==i?o=t[i]:"ref"==i?r=t[i]:a[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(s[i]);if(null!=n&&(a.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return m(e,a,o,r,null)}function m(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++o.__v:i};return null!=o.vnode&&o.vnode(s),s}function v(e){return e.children}function y(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__?_(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?_(e):null}function b(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return b(e)}}function A(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!w.__r++||s!==o.debounceRendering)&&((s=o.debounceRendering)||i)(w)}function w(){for(var e;w.__r=r.length;)e=r.sort((function(e,t){return e.__v.__b-t.__v.__b})),r=[],e.some((function(e){var t,n,o,r,i,s;e.__d&&(i=(r=(t=e).__v).__e,(s=t.__P)&&(n=[],(o=f({},r)).__v=r.__v+1,P(s,r,o,t.__n,void 0!==s.ownerSVGElement,null!=r.__h?[i]:null,n,null==i?_(r):i,r.__h),D(n,r),r.__e!=i&&b(r)))}))}function x(e,t,n,o,r,i,s,a,u,l){var p,f,h,g,y,b,A,w=o&&o.__k||d,x=w.length;for(n.__k=[],p=0;p<t.length;p++)if(null!=(g=n.__k[p]=null==(g=t[p])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g||"bigint"==typeof g?m(null,g,null,null,g):Array.isArray(g)?m(v,{children:g},null,null,null):g.__b>0?m(g.type,g.props,g.key,null,g.__v):g)){if(g.__=n,g.__b=n.__b+1,null===(h=w[p])||h&&g.key==h.key&&g.type===h.type)w[p]=void 0;else for(f=0;f<x;f++){if((h=w[f])&&g.key==h.key&&g.type===h.type){w[f]=void 0;break}h=null}P(e,g,h=h||c,r,i,s,a,u,l),y=g.__e,(f=g.ref)&&h.ref!=f&&(A||(A=[]),h.ref&&A.push(h.ref,null,g),A.push(f,g.__c||y,g)),null!=y?(null==b&&(b=y),"function"==typeof g.type&&null!=g.__k&&g.__k===h.__k?g.__d=u=S(g,u,e):u=T(e,g,h,w,y,u),l||"option"!==n.type?"function"==typeof n.type&&(n.__d=u):e.value=""):u&&h.__e==u&&u.parentNode!=e&&(u=_(h))}for(n.__e=b,p=x;p--;)null!=w[p]&&("function"==typeof n.type&&null!=w[p].__e&&w[p].__e==n.__d&&(n.__d=_(o,p+1)),M(w[p],w[p]));if(A)for(p=0;p<A.length;p++)R(A[p],A[++p],A[++p])}function S(e,t,n){var o,r;for(o=0;o<e.__k.length;o++)(r=e.__k[o])&&(r.__=e,t="function"==typeof r.type?S(r,t,n):T(n,r,r,e.__k,r.__e,t));return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function T(e,t,n,o,r,i){var s,a,u;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||r!=i||null==r.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(r),s=null;else{for(a=i,u=0;(a=a.nextSibling)&&u<o.length;u+=2)if(a==r)break e;e.insertBefore(r,i),s=i}return void 0!==s?s:r.nextSibling}function C(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function k(e,t,n,o,r){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||C(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||C(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o||e.addEventListener(t,i?O:I,i):e.removeEventListener(t,i?O:I,i);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function I(e){this.l[e.type+!1](o.event?o.event(e):e)}function O(e){this.l[e.type+!0](o.event?o.event(e):e)}function P(e,t,n,r,i,s,a,u,l){var c,d,p,h,g,m,_,b,A,w,S,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,u=t.__e=n.__e,t.__h=null,s=[u]),(c=o.__b)&&c(t);try{e:if("function"==typeof E){if(b=t.props,A=(c=E.contextType)&&r[c.__c],w=c?A?A.props.value:c.__:r,n.__c?_=(d=t.__c=n.__c).__=d.__E:("prototype"in E&&E.prototype.render?t.__c=d=new E(b,w):(t.__c=d=new y(b,w),d.constructor=E,d.render=L),A&&A.sub(d),d.props=b,d.state||(d.state={}),d.context=w,d.__n=r,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=E.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=f({},d.__s)),f(d.__s,E.getDerivedStateFromProps(b,d.__s))),h=d.props,g=d.state,p)null==E.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==E.getDerivedStateFromProps&&b!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,w),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,w)||t.__v===n.__v){d.props=b,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,w),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,g,m)}))}d.context=w,d.props=b,d.state=d.__s,(c=o.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(r=f(f({},r),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(h,g)),S=null!=c&&c.type===v&&null==c.key?c.props.children:c,x(e,Array.isArray(S)?S:[S],t,n,r,i,s,a,u,l),d.base=t.__e,t.__h=null,d.__h.length&&a.push(d),_&&(d.__E=d.__=null),d.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N(n.__e,t,n,r,i,s,a,l);(c=o.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=s)&&(t.__e=u,t.__h=!!l,s[s.indexOf(u)]=null),o.__e(e,t,n)}}function D(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function N(e,t,n,o,r,i,s,a){var u,l,p,f,g=n.props,m=t.props,v=t.type,y=0;if("svg"===v&&(r=!0),null!=i)for(;y<i.length;y++)if((u=i[y])&&(u===e||(v?u.localName==v:3==u.nodeType))){e=u,i[y]=null;break}if(null==e){if(null===v)return document.createTextNode(m);e=r?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,m.is&&m),i=null,a=!1}if(null===v)g===m||a&&e.data===m||(e.data=m);else{if(i=i&&d.slice.call(e.childNodes),l=(g=n.props||c).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!a){if(null!=i)for(g={},f=0;f<e.attributes.length;f++)g[e.attributes[f].name]=e.attributes[f].value;(p||l)&&(p&&(l&&p.__html==l.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||k(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||k(e,i,t[i],n[i],o)}(e,m,g,r,a),p)t.__k=[];else if(y=t.props.children,x(e,Array.isArray(y)?y:[y],t,n,o,r&&"foreignObject"!==v,i,s,e.firstChild,a),null!=i)for(y=i.length;y--;)null!=i[y]&&h(i[y]);a||("value"in m&&void 0!==(y=m.value)&&(y!==e.value||"progress"===v&&!y)&&k(e,"value",y,g.value,!1),"checked"in m&&void 0!==(y=m.checked)&&y!==e.checked&&k(e,"checked",y,g.checked,!1))}return e}function R(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function M(e,t,n){var r,i,s;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||R(r,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&M(r[s],t,n);null!=i&&h(i)}function L(e,t,n){return this.constructor(e,n)}function j(e,t,n){var r,i,s;o.__&&o.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,s=[],P(t,e=(!r&&n||t).__k=g(v,null,[e]),i||c,c,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?d.slice.call(t.childNodes):null,s,!r&&n?n:i?i.__e:t.firstChild,r),D(s,e)}function U(e,t){j(e,t,U)}function H(e,t,n){var o,r,i,s=arguments,a=f({},e.props);for(i in t)"key"==i?o=t[i]:"ref"==i?r=t[i]:a[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(s[i]);return null!=n&&(a.children=n),m(e.type,a,o||e.key,r||e.ref,null)}function B(e,t){var n={__c:t="__cC"+a++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,o;return this.getChildContext||(n=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(A)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}o={__e:function(e,t){for(var n,o,r;t=t.__;)if((n=t.__c)&&!n.__)try{if((o=n.constructor)&&null!=o.getDerivedStateFromError&&(n.setState(o.getDerivedStateFromError(e)),r=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),r=n.__d),r)return n.__E=n}catch(t){e=t}throw e},__v:0},y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),A(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},y.prototype.render=v,r=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w.__r=0,a=0;var F,K,W,z=0,$=[],G=o.__b,V=o.__r,q=o.diffed,J=o.__c,Y=o.unmount;function Z(e,t){o.__h&&o.__h(K,e,z||t),z=0;var n=K.__H||(K.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function X(e){return z=1,Q(de,e)}function Q(e,t,n){var o=Z(F++,2);return o.t=e,o.__c||(o.__=[n?n(t):de(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=K),o.__}function ee(e,t){var n=Z(F++,3);!o.__s&&ce(n.__H,t)&&(n.__=e,n.__H=t,K.__H.__h.push(n))}function te(e,t){var n=Z(F++,4);!o.__s&&ce(n.__H,t)&&(n.__=e,n.__H=t,K.__h.push(n))}function ne(e){return z=5,oe((function(){return{current:e}}),[])}function oe(e,t){var n=Z(F++,7);return ce(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function re(e,t){return z=8,oe((function(){return e}),t)}function ie(e){var t=K.context[e.__c],n=Z(F++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(K)),t.props.value):e.__}function se(){$.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(ue),e.__H.__h.forEach(le),e.__H.__h=[]}catch(t){e.__H.__h=[],o.__e(t,e.__v)}})),$=[]}o.__b=function(e){K=null,G&&G(e)},o.__r=function(e){V&&V(e),F=0;var t=(K=e.__c).__H;t&&(t.__h.forEach(ue),t.__h.forEach(le),t.__h=[])},o.diffed=function(e){q&&q(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==$.push(t)&&W===o.requestAnimationFrame||((W=o.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(o),ae&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);ae&&(t=requestAnimationFrame(n))})(se)),K=void 0},o.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ue),e.__h=e.__h.filter((function(e){return!e.__||le(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.__e(n,e.__v)}})),J&&J(e,t)},o.unmount=function(e){Y&&Y(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(ue)}catch(e){o.__e(e,t.__v)}};var ae="function"==typeof requestAnimationFrame;function ue(e){var t=K;"function"==typeof e.__c&&e.__c(),K=t}function le(e){var t=K;e.__c=e.__(),K=t}function ce(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function de(e,t){return"function"==typeof t?t(e):t}function pe(e,t){for(var n in t)e[n]=t[n];return e}function fe(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function he(e){this.props=e}(he.prototype=new y).isPureReactComponent=!0,he.prototype.shouldComponentUpdate=function(e,t){return fe(this.props,e)||fe(this.state,t)};var ge=o.__b;o.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ge&&ge(e)};var me="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,ve=function(e,t){return null==e?null:E(E(e).map(t))},ye={map:ve,forEach:ve,count:function(e){return e?E(e).length:0},only:function(e){var t=E(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:E},_e=o.__e;o.__e=function(e,t,n){if(e.then)for(var o,r=t;r=r.__;)if((o=r.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);_e(e,t,n)};var be=o.unmount;function Ae(){this.__u=0,this.t=null,this.__b=null}function we(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function xe(){this.u=null,this.o=null}o.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),be&&be(e)},(Ae.prototype=new y).__c=function(e,t){var n=t.__c,o=this;null==o.t&&(o.t=[]),o.t.push(n);var r=we(o.__v),i=!1,s=function(){i||(i=!0,n.__R=null,r?r(a):a())};n.__R=s;var a=function(){if(!--o.__u){if(o.state.__e){var e=o.state.__e;o.__v.__k[0]=function e(t,n,o){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,o)})),t.__c&&t.__c.__P===n&&(t.__e&&o.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=o)),t}(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__e:o.__b=null});t=o.t.pop();)t.forceUpdate()}},u=!0===t.__h;o.__u++||u||o.setState({__e:o.__b=o.__v.__k[0]}),e.then(s,s)},Ae.prototype.componentWillUnmount=function(){this.t=[]},Ae.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,o){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=pe({},t)).__c&&(t.__c.__P===o&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,o)}))),t}(this.__b,n,o.__O=o.__P)}this.__b=null}var r=t.__e&&g(v,null,e.fallback);return r&&(r.__h=null),[g(v,null,t.__e?null:e.children),r]};var Se=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Ee(e){return this.getChildContext=function(){return e.context},e.children}function Te(e){var t=this,n=e.i;t.componentWillUnmount=function(){j(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),j(g(Ee,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(xe.prototype=new y).__e=function(e){var t=this,n=we(t.__v),o=t.o.get(e);return o[0]++,function(r){var i=function(){t.props.revealOrder?(o.push(r),Se(t,e,o)):r()};n?n(i):i()}},xe.prototype.render=function(e){this.u=null,this.o=new Map;var t=E(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},xe.prototype.componentDidUpdate=xe.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){Se(e,n,t)}))};var Ce="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ke=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ie=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function Oe(e,t,n){return null==t.__k&&(t.textContent=""),j(e,t),"function"==typeof n&&n(),e?e.__c:null}y.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(y.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Pe=o.event;function De(){}function Ne(){return this.cancelBubble}function Re(){return this.defaultPrevented}o.event=function(e){return Pe&&(e=Pe(e)),e.persist=De,e.isPropagationStopped=Ne,e.isDefaultPrevented=Re,e.nativeEvent=e};var Me,Le={configurable:!0,get:function(){return this.class}},je=o.vnode;o.vnode=function(e){var t=e.type,n=e.props,o=n;if("string"==typeof t){for(var r in o={},n){var i=n[r];"value"===r&&"defaultValue"in n&&null==i||("defaultValue"===r&&"value"in n&&null==n.value?r="value":"download"===r&&!0===i?i="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+t)&&!Ie(n.type)?r="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(r)?r=r.toLowerCase():ke.test(r)?r=r.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),o[r]=i)}"select"==t&&o.multiple&&Array.isArray(o.value)&&(o.value=E(n.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==t&&null!=o.defaultValue&&(o.value=E(n.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),e.props=o}t&&n.class!=n.className&&(Le.enumerable="className"in n,null!=n.className&&(o.class=n.className),Object.defineProperty(o,"className",Le)),e.$$typeof=Ce,je&&je(e)};var Ue=o.__r;o.__r=function(e){Ue&&Ue(e),Me=e.__c};var He={ReactCurrentDispatcher:{current:{readContext:function(e){return Me.__n[e.__c].props.value}}}};function Be(e){return!!e&&e.$$typeof===Ce}"object"==typeof performance&&"function"==typeof performance.now&&performance.now.bind(performance);var Fe=function(e,t){return e(t)},Ke={useState:X,useReducer:Q,useEffect:ee,useLayoutEffect:te,useRef:ne,useImperativeHandle:function(e,t,n){z=6,te((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:oe,useCallback:re,useContext:ie,useDebugValue:function(e,t){o.useDebugValue&&o.useDebugValue(t?t(e):e)},version:"16.8.0",Children:ye,render:Oe,hydrate:function(e,t,n){return U(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(j(null,e),!0)},createPortal:function(e,t){return g(Te,{__v:e,i:t})},createElement:g,createContext:B,createFactory:function(e){return g.bind(null,e)},cloneElement:function(e){return Be(e)?H.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:v,isValidElement:Be,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:y,PureComponent:he,memo:function(e,t){function n(e){var n=this.props.ref,o=n==e.ref;return!o&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!o:fe(this.props,e)}function o(t){return this.shouldComponentUpdate=n,g(e,t)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o},forwardRef:function(e){function t(t,n){var o=pe({},t);return delete o.ref,e(o,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=me,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},unstable_batchedUpdates:Fe,StrictMode:v,Suspense:Ae,SuspenseList:xe,lazy:function(e){var t,n,o;function r(r){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){o=e})),o)throw o;if(!n)throw t;return g(n,r)}return r.displayName="Lazy",r.__f=!0,r},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:He};function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ve="function"==typeof Symbol&&Symbol.observable||"@@observable",qe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Je={INIT:"@@redux/INIT"+qe(),REPLACE:"@@redux/REPLACE"+qe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+qe()}};function Ye(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ze(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ge(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ge(1));return n(Ze)(e,t)}if("function"!=typeof e)throw new Error(Ge(2));var r=e,i=t,s=[],a=s,u=!1;function l(){a===s&&(a=s.slice())}function c(){if(u)throw new Error(Ge(3));return i}function d(e){if("function"!=typeof e)throw new Error(Ge(4));if(u)throw new Error(Ge(5));var t=!0;return l(),a.push(e),function(){if(t){if(u)throw new Error(Ge(6));t=!1,l();var n=a.indexOf(e);a.splice(n,1),s=null}}}function p(e){if(!Ye(e))throw new Error(Ge(7));if(void 0===e.type)throw new Error(Ge(8));if(u)throw new Error(Ge(9));try{u=!0,i=r(i,e)}finally{u=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error(Ge(10));r=e,p({type:Je.REPLACE})}function h(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Ge(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Ve]=function(){return this},e}return p({type:Je.INIT}),(o={dispatch:p,subscribe:d,getState:c,replaceReducer:f})[Ve]=h,o}function Xe(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var r=t[o];"function"==typeof e[r]&&(n[r]=e[r])}var i,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Je.INIT}))throw new Error(Ge(12));if(void 0===n(void 0,{type:Je.PROBE_UNKNOWN_ACTION()}))throw new Error(Ge(13))}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var o=!1,r={},a=0;a<s.length;a++){var u=s[a],l=n[u],c=e[u],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(Ge(14));r[u]=d,o=o||d!==c}return(o=o||s.length!==Object.keys(e).length)?r:e}}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function et(e){return function(t){var n=t.dispatch,o=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,o,e):t(r)}}}}var tt=et();tt.withExtraArgument=et;var nt=tt;function ot(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function rt(e){return!!e&&!!e[Wt]}function it(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&Function.toString.call(n)===zt}(e)||Array.isArray(e)||!!e[Kt]||!!e.constructor[Kt]||dt(e)||pt(e))}function st(e,t,n){void 0===n&&(n=!1),0===at(e)?(n?Object.keys:$t)(e).forEach((function(o){n&&"symbol"==typeof o||t(o,e[o],e)})):e.forEach((function(n,o){return t(o,n,e)}))}function at(e){var t=e[Wt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:dt(e)?2:pt(e)?3:0}function ut(e,t){return 2===at(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lt(e,t,n){var o=at(e);2===o?e.set(t,n):3===o?(e.delete(t),e.add(n)):e[t]=n}function ct(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function dt(e){return Ut&&e instanceof Map}function pt(e){return Ht&&e instanceof Set}function ft(e){return e.o||e.t}function ht(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Gt(e);delete t[Wt];for(var n=$t(t),o=0;o<n.length;o++){var r=n[o],i=t[r];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[r]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function gt(e,t){return void 0===t&&(t=!1),vt(e)||rt(e)||!it(e)||(at(e)>1&&(e.set=e.add=e.clear=e.delete=mt),Object.freeze(e),t&&st(e,(function(e,t){return gt(t,!0)}),!0)),e}function mt(){ot(2)}function vt(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function yt(e){var t=Vt[e];return t||ot(18,e),t}function _t(){return Lt}function bt(e,t){t&&(yt("Patches"),e.u=[],e.s=[],e.v=t)}function At(e){wt(e),e.p.forEach(St),e.p=null}function wt(e){e===Lt&&(Lt=e.l)}function xt(e){return Lt={p:[],l:Lt,h:e,m:!0,_:0}}function St(e){var t=e[Wt];0===t.i||1===t.i?t.j():t.g=!0}function Et(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.O||yt("ES5").S(t,e,o),o?(n[Wt].P&&(At(t),ot(4)),it(e)&&(e=Tt(t,e),t.l||kt(t,e)),t.u&&yt("Patches").M(n[Wt],e,t.u,t.s)):e=Tt(t,n,[]),At(t),t.u&&t.v(t.u,t.s),e!==Ft?e:void 0}function Tt(e,t,n){if(vt(t))return t;var o=t[Wt];if(!o)return st(t,(function(r,i){return Ct(e,o,t,r,i,n)}),!0),t;if(o.A!==e)return t;if(!o.P)return kt(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var r=4===o.i||5===o.i?o.o=ht(o.k):o.o;st(3===o.i?new Set(r):r,(function(t,i){return Ct(e,o,r,t,i,n)})),kt(e,r,!1),n&&e.u&&yt("Patches").R(o,n,e.u,e.s)}return o.o}function Ct(e,t,n,o,r,i){if(rt(r)){var s=Tt(e,r,i&&t&&3!==t.i&&!ut(t.D,o)?i.concat(o):void 0);if(lt(n,o,s),!rt(s))return;e.m=!1}if(it(r)&&!vt(r)){if(!e.h.F&&e._<1)return;Tt(e,r),t&&t.A.l||kt(e,r)}}function kt(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&gt(t,n)}function It(e,t){var n=e[Wt];return(n?ft(n):e)[t]}function Ot(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function Pt(e){e.P||(e.P=!0,e.l&&Pt(e.l))}function Dt(e){e.o||(e.o=ht(e.t))}function Nt(e,t,n){var o=dt(t)?yt("MapSet").N(t,n):pt(t)?yt("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),o={i:n?1:0,A:t?t.A:_t(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=o,i=qt;n&&(r=[o],i=Jt);var s=Proxy.revocable(r,i),a=s.revoke,u=s.proxy;return o.k=u,o.j=a,u}(t,n):yt("ES5").J(t,n);return(n?n.A:_t()).p.push(o),o}function Rt(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ht(e)}var Mt,Lt,jt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Ut="undefined"!=typeof Map,Ht="undefined"!=typeof Set,Bt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ft=jt?Symbol.for("immer-nothing"):((Mt={})["immer-nothing"]=!0,Mt),Kt=jt?Symbol.for("immer-draftable"):"__$immer_draftable",Wt=jt?Symbol.for("immer-state"):"__$immer_state",zt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$t="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Gt=Object.getOwnPropertyDescriptors||function(e){var t={};return $t(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Vt={},qt={get:function(e,t){if(t===Wt)return e;var n=ft(e);if(!ut(n,t))return function(e,t,n){var o,r=Ot(t,n);return r?"value"in r?r.value:null===(o=r.get)||void 0===o?void 0:o.call(e.k):void 0}(e,n,t);var o=n[t];return e.I||!it(o)?o:o===It(e.t,t)?(Dt(e),e.o[t]=Nt(e.A.h,o,e)):o},has:function(e,t){return t in ft(e)},ownKeys:function(e){return Reflect.ownKeys(ft(e))},set:function(e,t,n){var o=Ot(ft(e),t);if(null==o?void 0:o.set)return o.set.call(e.k,n),!0;if(!e.P){var r=It(ft(e),t),i=null==r?void 0:r[Wt];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(ct(n,r)&&(void 0!==n||ut(e.t,t)))return!0;Dt(e),Pt(e)}return e.o[t]===n&&"number"!=typeof n||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==It(e.t,t)||t in e.t?(e.D[t]=!1,Dt(e),Pt(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ft(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:o.enumerable,value:n[t]}:o},defineProperty:function(){ot(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ot(12)}},Jt={};st(qt,(function(e,t){Jt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Jt.deleteProperty=function(e,t){return qt.deleteProperty.call(this,e[0],t)},Jt.set=function(e,t,n){return qt.set.call(this,e[0],t,n,e[0])};var Yt=new(function(){function e(e){var t=this;this.O=Bt,this.F=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var r=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=r);for(var o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return i.produce(e,(function(e){var o;return(o=n).call.apply(o,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&ot(6),void 0!==o&&"function"!=typeof o&&ot(7),it(e)){var a=xt(t),u=Nt(t,e,void 0),l=!0;try{s=n(u),l=!1}finally{l?At(a):wt(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return bt(a,o),Et(e,a)}),(function(e){throw At(a),e})):(bt(a,o),Et(s,a))}if(!e||"object"!=typeof e){if((s=n(e))===Ft)return;return void 0===s&&(s=e),t.F&&gt(s,!0),s}ot(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))}:[t.produce(e,n,(function(e,t){o=e,r=t})),o,r];var o,r},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){it(e)||ot(8),rt(e)&&(e=function(e){return rt(e)||ot(22,e),function e(t){if(!it(t))return t;var n,o=t[Wt],r=at(t);if(o){if(!o.P&&(o.i<4||!yt("ES5").K(o)))return o.t;o.I=!0,n=Rt(t,r),o.I=!1}else n=Rt(t,r);return st(n,(function(t,r){o&&function(e,t){return 2===at(e)?e.get(t):e[t]}(o.t,t)===r||lt(n,t,e(r))})),3===r?new Set(n):n}(e)}(e));var t=xt(this),n=Nt(this,e,void 0);return n[Wt].C=!0,wt(t),n},t.finishDraft=function(e,t){var n=(e&&e[Wt]).A;return bt(n,t),Et(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Bt&&ot(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var o=t[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}var r=yt("Patches").$;return rt(e)?r(e,t):this.produce(e,(function(e){return r(e,t.slice(n+1))}))},e}()),Zt=Yt.produce,Xt=(Yt.produceWithPatches.bind(Yt),Yt.setAutoFreeze.bind(Yt),Yt.setUseProxies.bind(Yt),Yt.applyPatches.bind(Yt),Yt.createDraft.bind(Yt),Yt.finishDraft.bind(Yt),Zt);function Qt(e,t){return e===t}function en(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}function tn(){return(tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function nn(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return tn({type:e,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function on(e){var t,n={},o=[],r={addCase:function(e,t){var o="string"==typeof e?e:e.type;if(o in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[o]=t,r},addMatcher:function(e,t){return o.push({matcher:e,reducer:t}),r},addDefaultCase:function(e){return t=e,r}};return e(r),[n,o,t]}function rn(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var o=e.reducers||{},r=void 0===e.extraReducers?[]:"function"==typeof e.extraReducers?on(e.extraReducers):[e.extraReducers],i=r[0],s=void 0===i?{}:i,a=r[1],u=void 0===a?[]:a,l=r[2],c=void 0===l?void 0:l,d=Object.keys(o),p={},f={},h={};d.forEach((function(e){var n,r,i=o[e],s=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,p[e]=n,f[s]=n,h[e]=r?nn(s,r):nn(s)}));var g=function(e,t,n,o){void 0===n&&(n=[]);var r="function"==typeof t?on(t):[t,n,o],i=r[0],s=r[1],a=r[2],u=Xt(e,(function(){}));return function(e,t){void 0===e&&(e=u);var n=[i[t.type]].concat(s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[a]),n.reduce((function(e,n){if(n){if(rt(e)){var o=n(e,t);return void 0===o?e:o}if(it(e))return Xt(e,(function(e){return n(e,t)}));var r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}}(n,tn({},s,{},f),u,c);return{name:t,reducer:g,actions:h,caseReducers:p}}!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o]}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt,n=null,o=null;return function(){return en(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}})),"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(){function e(e,t){var n=r[e];return n?n.enumerable=t:r[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Wt];return qt.get(t,e)},set:function(t){var n=this[Wt];qt.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][Wt];if(!r.P)switch(r.i){case 5:o(r)&&Pt(r);break;case 4:n(r)&&Pt(r)}}}function n(e){for(var t=e.t,n=e.k,o=$t(n),r=o.length-1;r>=0;r--){var i=o[r];if(i!==Wt){var s=t[i];if(void 0===s&&!ut(t,i))return!0;var a=n[i],u=a&&a[Wt];if(u?u.t!==s:!ct(a,s))return!0}}var l=!!t[Wt];return o.length!==$t(t).length+(l?0:1)}function o(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var r={};!function(e,t){Vt[e]||(Vt[e]=t)}("ES5",{J:function(t,n){var o=Array.isArray(t),r=function(t,n){if(t){for(var o=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(o,""+r,e(r,!0));return o}var i=Gt(n);delete i[Wt];for(var s=$t(i),a=0;a<s.length;a++){var u=s[a];i[u]=e(u,t||!!i[u].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(o,t),i={i:o?5:4,A:n?n.A:_t(),P:!1,I:!1,D:{},l:n,t:t,k:r,o:null,g:!1,C:!1};return Object.defineProperty(r,Wt,{value:i,writable:!0}),r},S:function(e,n,r){r?rt(n)&&n[Wt].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Wt];if(n){var r=n.t,i=n.k,s=n.D,a=n.i;if(4===a)st(i,(function(t){t!==Wt&&(void 0!==r[t]||ut(r,t)?s[t]||e(i[t]):(s[t]=!0,Pt(n)))})),st(r,(function(e){void 0!==i[e]||ut(i,e)||(s[e]=!1,Pt(n))}));else if(5===a){if(o(n)&&(Pt(n),s.length=!0),i.length<r.length)for(var u=i.length;u<r.length;u++)s[u]=!1;else for(var l=r.length;l<i.length;l++)s[l]=!0;for(var c=Math.min(i.length,r.length),d=0;d<c;d++)void 0===s[d]&&e(i[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):o(e)}})}();function sn(e){return null!=e}function an(e){return e.default?e.default:e}function un(e,t){console.warn(e),t&&console.error(t)}const ln={};class cn{constructor(){this.importers=new Map,this.messages=null,this.subscribers=[],this.locale=null}static getSingleton(){let e;try{e=Function("return this")()}catch(t){e=window}return e.__tradukiRuntime||(e.__tradukiRuntime=new cn),e.__tradukiRuntime instanceof cn||un("[traduki] Detected duplicate loaded runtime"),e.__tradukiRuntime}load(e){const t=[];this.importers.forEach((n=>{const o=n[e];o&&t.push(function(e){if("function"!=typeof e)return un("[traduki] Expected a function, instead received "+typeof e),Promise.resolve(null);try{const t=e();return"function"==typeof t.then?t.then(an).catch((e=>(un("[traduki] Error calling locale importer",e),Promise.resolve(null)))):Promise.resolve(an(t))}catch(e){return un("[traduki] Error calling locale importer",e),Promise.resolve(null)}}(o))}));const n=Promise.all(t);return this.latestLoader=n,n.then((t=>{if(n!==this.latestLoader)return;const o=t.filter(sn).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{});this.messages=o,this.locale=e,this.subscribers.forEach((t=>t(e)))}))}get currentLocale(){return this.locale}register(e,t){this.importers.set(e,t),this.locale&&this.load(this.locale)}switchTo(e){return e===this.locale?Promise.resolve():this.load(e)}ready(){return function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{u(o.next(e))}catch(e){i(e)}}function a(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((o=o.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(!this.latestLoader)return;const e=this.latestLoader;return e.then((()=>{if(e!==this.latestLoader)return this.ready()}))}))}subscribe(e){return this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);t>-1&&this.subscribers.splice(t,1)}}hasKey(e){return!(!this.messages||!this.messages[e])}translate(e,t){return void 0===e?(un("[traduki] Can't pass undefined as message key to translate."),"undefined"):e.startsWith("[")&&e.endsWith("]")?e:this.messages?this.hasKey(e)?this.messages[e](t||ln):(e&&un(`[traduki] Global message key '${e}' does not exit, or is not loaded yet.`),e):(un("[traduki] No messages loaded yet"),e)}}var dn=cn.getSingleton();const pn=B(null);function fn(){if(!ie(pn))throw new Error("useTranslator must be used within a TradukiProvider");return(e,t={})=>dn.translate(e,t)}const hn=({initialLocale:e,children:t})=>{const[n,o]=X(null),r=oe((()=>dn.subscribe((()=>{o(dn.currentLocale)}))),[]);ee((()=>(dn.currentLocale||dn.switchTo(e),r)),[r]);const i=oe((()=>({get locale(){return dn.currentLocale},switchTo(e){dn.switchTo(e)}})),[n]);return i.locale?g(pn.Provider,{value:i},t):null};n(697);var gn=Ke.createContext(null),mn=function(e){e()},vn=function(){return mn},yn={notify:function(){}},_n=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=yn,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=vn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var o=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){o&&null!==t&&(o=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=yn)},e}(),bn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?te:ee,An=function(e){var t=e.store,n=e.context,o=e.children,r=oe((function(){var e=new _n(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=oe((function(){return t.getState()}),[t]);bn((function(){var e=r.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,i]);var s=n||gn;return Ke.createElement(s.Provider,{value:r},o)};function wn(){return(wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function xn(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}var Sn=n(679),En=n.n(Sn),Tn=n(864),Cn=[],kn=[null,null];function In(e,t){var n=e[1];return[t.payload,n+1]}function On(e,t,n){bn((function(){return e.apply(void 0,t)}),n)}function Pn(e,t,n,o,r,i,s){e.current=o,t.current=r,n.current=!1,i.current&&(i.current=null,s())}function Dn(e,t,n,o,r,i,s,a,u,l){if(e){var c=!1,d=null,p=function(){if(!c){var e,n,p=t.getState();try{e=o(p,r.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?s.current||u():(i.current=e,a.current=e,s.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=p,n.trySubscribe(),p(),function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Nn=function(){return[null,0]};function Rn(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,r=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,i=n.methodName,s=void 0===i?"connectAdvanced":i,a=n.renderCountProp,u=void 0===a?void 0:a,l=n.shouldHandleStateChanges,c=void 0===l||l,d=n.storeKey,p=void 0===d?"store":d,f=(n.withRef,n.forwardRef),h=void 0!==f&&f,g=n.context,m=void 0===g?gn:g,v=xn(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),y=m;return function(t){var n=t.displayName||t.name||"Component",o=r(n),i=wn({},v,{getDisplayName:r,methodName:s,renderCountProp:u,shouldHandleStateChanges:c,storeKey:p,displayName:o,wrappedComponentName:n,WrappedComponent:t}),a=v.pure,l=a?oe:function(e){return e()};function d(n){var o=oe((function(){var e=n.reactReduxForwardedRef,t=xn(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),r=o[0],s=o[1],a=o[2],u=oe((function(){return r&&r.Consumer&&(0,Tn.isContextConsumer)(Ke.createElement(r.Consumer,null))?r:y}),[r,y]),d=ie(u),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(d)&&Boolean(d.store);var f=p?n.store:d.store,h=oe((function(){return function(t){return e(t.dispatch,i)}(f)}),[f]),g=oe((function(){if(!c)return kn;var e=new _n(f,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,p,d]),m=g[0],v=g[1],_=oe((function(){return p?d:wn({},d,{subscription:m})}),[p,d,m]),b=Q(In,Cn,Nn),A=b[0][0],w=b[1];if(A&&A.error)throw A.error;var x=ne(),S=ne(a),E=ne(),T=ne(!1),C=l((function(){return E.current&&a===S.current?E.current:h(f.getState(),a)}),[f,A,a]);On(Pn,[S,x,T,a,C,E,v]),On(Dn,[c,f,m,h,S,x,T,E,v,w],[f,m,h]);var k=oe((function(){return Ke.createElement(t,wn({},C,{ref:s}))}),[s,t,C]);return oe((function(){return c?Ke.createElement(u.Provider,{value:_},k):k}),[u,k,_])}var f=a?Ke.memo(d):d;if(f.WrappedComponent=t,f.displayName=d.displayName=o,h){var g=Ke.forwardRef((function(e,t){return Ke.createElement(f,wn({},e,{reactReduxForwardedRef:t}))}));return g.displayName=o,g.WrappedComponent=t,En()(g,t)}return En()(f,t)}}function Mn(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Ln(e,t){if(Mn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Mn(e[n[r]],t[n[r]]))return!1;return!0}function jn(e){return function(t,n){var o=e(t,n);function r(){return o}return r.dependsOnOwnProps=!1,r}}function Un(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Hn(e,t){return function(t,n){n.displayName;var o=function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e)};return o.dependsOnOwnProps=!0,o.mapToProps=function(t,n){o.mapToProps=e,o.dependsOnOwnProps=Un(e);var r=o(t,n);return"function"==typeof r&&(o.mapToProps=r,o.dependsOnOwnProps=Un(r),r=o(t,n)),r},o}}var Bn=[function(e){return"function"==typeof e?Hn(e):void 0},function(e){return e?void 0:jn((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?jn((function(t){return function(e,t){var n={},o=function(o){var r=e[o];"function"==typeof r&&(n[o]=function(){return t(r.apply(void 0,arguments))})};for(var r in e)o(r);return n}(e,t)})):void 0}],Fn=[function(e){return"function"==typeof e?Hn(e):void 0},function(e){return e?void 0:jn((function(){return{}}))}];function Kn(e,t,n){return wn({},n,e,t)}var Wn=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var o,r=n.pure,i=n.areMergedPropsEqual,s=!1;return function(t,n,a){var u=e(t,n,a);return s?r&&i(u,o)||(o=u):(s=!0,o=u),o}}}(e):void 0},function(e){return e?void 0:function(){return Kn}}];function zn(e,t,n,o){return function(r,i){return n(e(r,i),t(o,i),i)}}function $n(e,t,n,o,r){var i,s,a,u,l,c=r.areStatesEqual,d=r.areOwnPropsEqual,p=r.areStatePropsEqual,f=!1;return function(r,h){return f?function(r,f){var h,g,m=!d(f,s),v=!c(r,i);return i=r,s=f,m&&v?(a=e(i,s),t.dependsOnOwnProps&&(u=t(o,s)),l=n(a,u,s)):m?(e.dependsOnOwnProps&&(a=e(i,s)),t.dependsOnOwnProps&&(u=t(o,s)),l=n(a,u,s)):v?(h=e(i,s),g=!p(h,a),a=h,g&&(l=n(a,u,s)),l):l}(r,h):(a=e(i=r,s=h),u=t(o,s),l=n(a,u,s),f=!0,l)}}function Gn(e,t){var n=t.initMapStateToProps,o=t.initMapDispatchToProps,r=t.initMergeProps,i=xn(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(e,i),a=o(e,i),u=r(e,i);return(i.pure?$n:zn)(s,a,u,e,i)}function Vn(e,t,n){for(var o=t.length-1;o>=0;o--){var r=t[o](e);if(r)return r}return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function qn(e,t){return e===t}function Jn(e){var t=void 0===e?{}:e,n=t.connectHOC,o=void 0===n?Rn:n,r=t.mapStateToPropsFactories,i=void 0===r?Fn:r,s=t.mapDispatchToPropsFactories,a=void 0===s?Bn:s,u=t.mergePropsFactories,l=void 0===u?Wn:u,c=t.selectorFactory,d=void 0===c?Gn:c;return function(e,t,n,r){void 0===r&&(r={});var s=r,u=s.pure,c=void 0===u||u,p=s.areStatesEqual,f=void 0===p?qn:p,h=s.areOwnPropsEqual,g=void 0===h?Ln:h,m=s.areStatePropsEqual,v=void 0===m?Ln:m,y=s.areMergedPropsEqual,_=void 0===y?Ln:y,b=xn(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),A=Vn(e,i,"mapStateToProps"),w=Vn(t,a,"mapDispatchToProps"),x=Vn(n,l,"mergeProps");return o(d,wn({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:A,initMapDispatchToProps:w,initMergeProps:x,pure:c,areStatesEqual:f,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:_},b))}}var Yn=Jn();mn=Fe;var Zn=n(184),Xn=n.n(Zn);function Qn(){}function eo(e,t,n,o,r){for(var i=0,s=t.length,a=0,u=0;i<s;i++){var l=t[i];if(l.removed){if(l.value=e.join(o.slice(u,u+l.count)),u+=l.count,i&&t[i-1].added){var c=t[i-1];t[i-1]=t[i],t[i]=c}}else{if(!l.added&&r){var d=n.slice(a,a+l.count);d=d.map((function(e,t){var n=o[u+t];return n.length>e.length?n:e})),l.value=e.join(d)}else l.value=e.join(n.slice(a,a+l.count));a+=l.count,l.added||(u+=l.count)}}var p=t[s-1];return s>1&&"string"==typeof p.value&&(p.added||p.removed)&&e.equals("",p.value)&&(t[s-2].value+=p.value,t.pop()),t}function to(e){return{newPos:e.newPos,components:e.components.slice(0)}}Qn.prototype={diff:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.callback;"function"==typeof n&&(o=n,n={}),this.options=n;var r=this;function i(e){return o?(setTimeout((function(){o(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var s=(t=this.removeEmpty(this.tokenize(t))).length,a=e.length,u=1,l=s+a,c=[{newPos:-1,components:[]}],d=this.extractCommon(c[0],t,e,0);if(c[0].newPos+1>=s&&d+1>=a)return i([{value:this.join(t),count:t.length}]);function p(){for(var n=-1*u;n<=u;n+=2){var o=void 0,l=c[n-1],d=c[n+1],p=(d?d.newPos:0)-n;l&&(c[n-1]=void 0);var f=l&&l.newPos+1<s,h=d&&0<=p&&p<a;if(f||h){if(!f||h&&l.newPos<d.newPos?(o=to(d),r.pushComponent(o.components,void 0,!0)):((o=l).newPos++,r.pushComponent(o.components,!0,void 0)),p=r.extractCommon(o,t,e,n),o.newPos+1>=s&&p+1>=a)return i(eo(r,o.components,t,e,r.useLongestToken));c[n]=o}else c[n]=void 0}u++}if(o)!function e(){setTimeout((function(){if(u>l)return o();p()||e()}),0)}();else for(;u<=l;){var f=p();if(f)return f}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var r=t.length,i=n.length,s=e.newPos,a=s-o,u=0;s+1<r&&a+1<i&&this.equals(t[s+1],n[a+1]);)s++,a++,u++;return u&&e.components.push({count:u}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var no=new Qn,oo=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ro=/\S/,io=new Qn;io.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!ro.test(e)&&!ro.test(t)},io.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&oo.test(t[n])&&oo.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var so=new Qn;function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}so.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var o=0;o<n.length;o++){var r=n[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),t.push(r))}return t},(new Qn).tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)},(new Qn).tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var uo=Object.prototype.toString,lo=new Qn;function co(e,t,n,o,r){var i,s;for(t=t||[],n=n||[],o&&(e=o(r,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===uo.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),i=0;i<e.length;i+=1)s[i]=co(e[i],t,n,o,r);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===ao(e)&&null!==e){t.push(e),s={},n.push(s);var a,u=[];for(a in e)e.hasOwnProperty(a)&&u.push(a);for(u.sort(),i=0;i<u.length;i+=1)s[a=u[i]]=co(e[a],t,n,o,a);t.pop(),n.pop()}else s=e;return s}lo.useLongestToken=!0,lo.tokenize=so.tokenize,lo.castInput=function(e){var t=this.options,n=t.undefinedReplacement,o=t.stringifyReplacer,r=void 0===o?function(e,t){return void 0===t?n:t}:o;return"string"==typeof e?e:JSON.stringify(co(e,null,null,r),r,"  ")},lo.equals=function(e,t){return Qn.prototype.equals.call(lo,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var po=new Qn;po.tokenize=function(e){return e.slice()},po.join=po.removeEmpty=function(e){return e};var fo=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,o){return e[0]===t&&(n=o,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];e.call(t,r[1],r[0])}},t}()}(),ho="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,go=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),mo="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(go):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},vo=["top","right","bottom","left","width","height","size","weight"],yo="undefined"!=typeof MutationObserver,_o=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,r=0;function i(){n&&(n=!1,e()),o&&a()}function s(){mo(i)}function a(){var e=Date.now();if(n){if(e-r<2)return;o=!0}else n=!0,o=!1,setTimeout(s,20);r=e}return a}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){ho&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),yo?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){ho&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;vo.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),bo=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},Ao=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||go},wo=Co(0,0,0,0);function xo(e){return parseFloat(e)||0}function So(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+xo(e["border-"+n+"-width"])}),0)}var Eo="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ao(e).SVGGraphicsElement}:function(e){return e instanceof Ao(e).SVGElement&&"function"==typeof e.getBBox};function To(e){return ho?Eo(e)?function(e){var t=e.getBBox();return Co(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return wo;var o=Ao(e).getComputedStyle(e),r=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var r=o[n],i=e["padding-"+r];t[r]=xo(i)}return t}(o),i=r.left+r.right,s=r.top+r.bottom,a=xo(o.width),u=xo(o.height);if("border-box"===o.boxSizing&&(Math.round(a+i)!==t&&(a-=So(o,"left","right")+i),Math.round(u+s)!==n&&(u-=So(o,"top","bottom")+s)),!function(e){return e===Ao(e).document.documentElement}(e)){var l=Math.round(a+i)-t,c=Math.round(u+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(c)&&(u-=c)}return Co(r.left,r.top,a,u)}(e):wo}function Co(e,t,n,o){return{x:e,y:t,width:n,height:o}}var ko=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Co(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=To(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Io=function(e,t){var n=function(e){var t=e.x,n=e.y,o=e.width,r=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(i.prototype);return bo(s,{x:t,y:n,width:o,height:r,top:n,right:t+o,bottom:r+n,left:t}),s}(t);bo(this,{target:e,contentRect:n})},Oo=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new fo,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ao(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ko(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ao(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Io(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Po="undefined"!=typeof WeakMap?new WeakMap:new fo,Do=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=_o.getInstance(),o=new Oo(t,n,this);Po.set(this,o)};["observe","unobserve","disconnect"].forEach((function(e){Do.prototype[e]=function(){var t;return(t=Po.get(this))[e].apply(t,arguments)}}));var No=void 0!==go.ResizeObserver?go.ResizeObserver:Do;const Ro=new RegExp("(?:[.,;:!?\\n]|:\\)|:\\(|:-\\)|:-\\()","g"),Mo=/(((\$!\{)|(\{))[a-zA-Z0-9_.]+\})/g,Lo=/x-deepdesk-(([a-z0-9\-_])+-version)/;var jo,Uo;function Ho(){return(Ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Bo(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}!function(e){e.SEARCH="search",e.GPT="gpt",e.TRIE="trie",e.TRIE_WITH_TYPOS="trie-with-typos",e.SEMANTIC="semantic",e.TEXT_RECOMMENDATION="text_recommendation",e.URL_RECOMMENDATION="url_recommendation",e.LINK_RECOMMENDATION="link_recommendation"}(jo||(jo={})),function(e){e.TAB="tab",e.ARROW="arrow",e.HOTKEY="hotkey",e.MOUSE="mouse"}(Uo||(Uo={}));const Fo=rn({name:"handlingTime",initialState:{startTime:null,stopTime:null},reducers:{handlingTimeStart(e){if(e.startTime&&!e.stopTime)throw new Error("Timing already started");e.startTime=new Date,e.stopTime=null},handlingTimeStop(e){if(!e.startTime)throw new Error("Timing not started");e.stopTime=new Date},handlingTimeReset(e){e.startTime=null,e.stopTime=null}}}),{handlingTimeStart:Ko,handlingTimeStop:Wo,handlingTimeReset:zo}=Fo.actions;var $o=Fo.reducer;const Go=rn({name:"info",initialState:{agentInfo:{},visitorInfo:{}},reducers:{setAgentInfo(e,t){e.agentInfo=Ho({},e.agentInfo,t.payload)},setVisitorInfo(e,t){e.visitorInfo=Ho({},e.visitorInfo,t.payload)}}}),{setAgentInfo:Vo,setVisitorInfo:qo}=Go.actions;var Jo=Go.reducer;const Yo="USE_TEXT_SUGGESTION",Zo="USE_URL_SUGGESTION",Xo="USE_STICKY_MESSAGE",Qo="USE_EXTERNAL_SUGGESTION",er="OFFERED_TEXT_SUGGESTION",tr="KEY_DOWN",nr="SEND_MESSAGE",or="UI_INPUT_CHANGED",rr="CHANGE_INPUT",ir="SET_TEXT_SUGGESTIONS",sr="SET_URL_SUGGESTIONS",ar="SET_STICKY_MESSAGES",ur="SET_EXTERNAL_SUGGESTIONS",lr="SET_SELECTED_TEXT_SUGGESTION_INDEX",cr="SET_TAB_COMPLETION_SUGGESTION",dr="SET_INPUT_HTML",pr="RESET",fr="RESET_TO_TYPED_TEXT",hr="REGISTER_KEY_DOWN",gr="REGISTER_EXTERNAL_INPUT_CHANGED",mr="REGISTER_PASTE",vr="REGISTER_CUT",yr="NEXT_TEXT_SUGGESTION_INDEX",_r="PREVIOUS_TEXT_SUGGESTION_INDEX",br="GET_AUTOFLOWS",Ar="START_AUTFLOW",wr="STOP_AUTOFLOW",xr="GET_CURRENT_AUTOFLOW",Sr=e=>({type:rr,payload:e}),Er=e=>({type:cr,payload:e}),Tr=()=>({type:fr}),Cr=e=>({type:Yo,payload:e}),kr=e=>({type:Qo,payload:e}),Ir=e=>({type:Zo,payload:e}),Or=e=>({type:Xo,payload:e}),Pr=e=>({type:ir,payload:e}),Dr=e=>({type:ur,payload:e}),Nr=e=>({type:lr,payload:e});function Rr(e){if(!e)return"";if(function(e){return!!e.contentEditable}(e))return window.getSelection?(window.getSelection()||"").toString():document.getSelection?(document.getSelection()||"").toString():"";if(function(e){return["input","textarea"].indexOf(e.tagName.toLowerCase())>-1}(e))return function(e){return e.selectionStart&&e.selectionEnd?e.value.substr(e.selectionStart,e.selectionEnd-e.selectionStart):""}(e);throw new Error("Unsupported element for getSelectionText()")}const Mr="https://localhost".replace(/\/+$/,"");class Lr{constructor(e,t,n){void 0===t&&(t=Mr),void 0===n&&(n=window.fetch),this.basePath=t,this.fetch=n,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}}class jr extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class Ur extends Lr{getAutoflows(e){let t=void 0===e?{}:e,{query:n={}}=t,o=Bo(t,["query"]);const r=new URL("/api/v1/autoflows",this.basePath);Object.entries(n).forEach((e=>{let[t,n]=e;r.searchParams.set(t,n)}));const i=Ho({method:"GET"},o);return this.fetch(r.toString(),i).then((e=>{if(e.status>=200&&e.status<300)return e.json();throw e}))}}class Hr extends Lr{getSession(e,t){let n=void 0===t?{}:t,{query:o={}}=n,r=Bo(n,["query"]);if(null==e)throw new jr("psid","Required parameter psid was null or undefined when calling getSession.");const i="/api/v1/autoflow-sessions/{psid}".replace("{psid}",encodeURIComponent(String(e))),s=new URL(i,this.basePath);Object.entries(o).forEach((e=>{let[t,n]=e;s.searchParams.set(t,n)}));const a=Ho({method:"GET"},r);return this.fetch(s.toString(),a).then((e=>{if(e.status>=200&&e.status<300)return e.json();throw e}))}startSession(e,t){let n=void 0===t?{}:t,{query:o={}}=n,r=Bo(n,["query"]);const i=new URL("/api/v1/autoflow-sessions",this.basePath),s=Ho({"Content-Type":"application/json"},r.headers),a="application/json"===s["Content-Type"];Object.entries(o).forEach((e=>{let[t,n]=e;i.searchParams.set(t,n)}));const u=Ho({method:"POST"},r,{headers:s,body:a?JSON.stringify(e||{}):e||""});return this.fetch(i.toString(),u).then((e=>{if(204!==e.status){if(e.status>=200&&e.status<300)return e.json();throw e}}))}stopSession(e,t){let n=void 0===t?{}:t,{query:o={}}=n,r=Bo(n,["query"]);if(null==e)throw new jr("psid","Required parameter psid was null or undefined when calling stopSession.");const i="/api/v1/autoflow-sessions/{psid}".replace("{psid}",encodeURIComponent(String(e))),s=new URL(i,this.basePath);Object.entries(o).forEach((e=>{let[t,n]=e;s.searchParams.set(t,n)}));const a=Ho({method:"DELETE"},r);return this.fetch(s.toString(),a).then((e=>{if(e.status>=200&&e.status<300)return e.json();throw e}))}}const Br=Ke.createContext({});function Fr(e,t,n){const o=ie(Br)[e];return o?Object.entries(t).reduce(((e,t)=>{let[r,i]=t;const s=o[r],a="function"==typeof s?s(n):s;return Ho({},e,{[r]:Xn()(i,a)})}),{}):t}const Kr=e=>{let{store:t,locale:n,customStyles:o={},children:r}=e;return Ke.createElement(An,{store:t},Ke.createElement(hn,{initialLocale:n},Ke.createElement(Br.Provider,{value:o},r)))},Wr=rn({name:"ui",initialState:{showHotKeys:!1,showTabHint:!1,inputHasFocus:!1,overlayHasFocus:!1,overlayCollapsed:!1},reducers:{setShowHotKeys(e,t){e.showHotKeys=t.payload},setShowTabHint(e,t){e.showTabHint=t.payload},setInputHasFocus(e,t){e.inputHasFocus=t.payload},setOverlayHasFocus(e,t){e.overlayHasFocus=t.payload},setOverlayCollapsed(e,t){e.overlayCollapsed=t.payload}}}),{setShowHotKeys:zr,setShowTabHint:$r,setInputHasFocus:Gr,setOverlayHasFocus:Vr,setOverlayCollapsed:qr}=Wr.actions;var Jr=Wr.reducer;function Yr(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Zr={root:"dd_1HjQH"};Yr(".dd_1HjQH{display:inline-block;padding:.25em .4em;font-size:.75em;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;color:#212529;background-color:#f8f9fa}");const Xr=e=>{let{className:t,children:n}=e;const o=Fr("Badge",Zr,{});return Ke.createElement("span",{className:Xn()(t,o.root)},n)};var Qr={root:"dd_3aFz2"};Yr(".dd_3aFz2{display:inline-block;padding:.2em .6em .3em;font-size:75%;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:50px;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;color:#575757;background-color:#e7e7e7}");const ei=e=>{let{className:t,children:n}=e,o=Bo(e,["className","children"]);const r=Fr("Label",Qr,{});return Ke.createElement("span",Object.assign({},o,{className:Xn()(t,r.root)}),n)};var ti={root:"dd_gzRYS",fadein:"dd_1qTTl",isClickable:"dd_1BEcD",isSelected:"dd_1p5or",actions:"dd_2mwQt",actionButton:"dd_150tJ"};Yr("@-webkit-keyframes dd_1qTTl{0%{opacity:0}to{opacity:1}}@keyframes dd_1qTTl{0%{opacity:0}to{opacity:1}}.dd_gzRYS{-webkit-box-flex:1;flex:1 0 auto;display:-webkit-box;display:flex;-webkit-box-pack:stretch;justify-content:stretch;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-decoration:none;border:0;font-weight:inherit;font-family:inherit;background-color:#fff;padding:.75rem 1.25rem;margin-bottom:-1px;position:relative;text-align:left;font-size:inherit;border:1px solid rgba(0,0,0,.125);outline:0;word-break:break-word;overflow:hidden;-webkit-animation:dd_1qTTl .15s ease-in;animation:dd_1qTTl .15s ease-in;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.dd_gzRYS:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.dd_gzRYS:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;margin-bottom:0}.dd_1BEcD{cursor:pointer}.dd_1BEcD:hover,.dd_1p5or{text-decoration:none;background-color:#f8f9fa;z-index:1}.dd_gzRYS a,.dd_gzRYS u{vertical-align:top;color:inherit;text-decoration:none;display:inline-block;max-width:90vw;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dd_gzRYS em{font-style:normal;background-color:gold}.dd_2mwQt{position:absolute;right:0;bottom:0;display:-webkit-box;display:flex;align-self:stretch;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:end;justify-content:flex-end;overflow:hidden;-webkit-transition:opacity .15s,-webkit-transform .15s;transition:opacity .15s,-webkit-transform .15s;transition:opacity .15s,transform .15s;transition:opacity .15s,transform .15s,-webkit-transform .15s;border-top:1px solid rgba(0,0,0,.125);border-left:1px solid rgba(0,0,0,.125);border-top-left-radius:5px;background-color:#fff;-webkit-box-shadow:0 0 6px rgba(0,0,0,.125);box-shadow:0 0 6px rgba(0,0,0,.125);opacity:0;-webkit-transform:translateY(110%);transform:translateY(110%)}.dd_gzRYS:hover .dd_2mwQt{opacity:1;-webkit-transform:translateY(0);transform:translateY(0);-webkit-transition-delay:.15s;transition-delay:.15s}.dd_150tJ+.dd_150tJ{border-left:1px solid rgba(0,0,0,.125)}.dd_150tJ{cursor:pointer;border:0;padding:10px 15px;text-align:center;position:relative;font-family:inherit;font-size:inherit;outline:none;background:#fff;min-width:70px}.dd_150tJ:hover{color:#007fe0}");const ni=B(ti),oi=Ke.forwardRef(((e,t)=>{let{className:n,selected:o,onClick:r,children:i,as:s="div"}=e,a=Bo(e,["className","selected","onClick","children","as"]);const u=Fr("Suggestion",ti,{selected:o}),l=re((e=>{e.preventDefault(),r&&r(e)}),[r]);return Ke.createElement(s,Object.assign({},a,{ref:t,className:Xn()(n,u.root,{[u.isSelected]:o,[u.isClickable]:!!r}),onClick:l}),Ke.createElement(ni.Provider,{value:u},i))}));oi.Actions=e=>{let{children:t}=e,n=Bo(e,["children"]);const o=ie(ni);return Ke.createElement("div",Object.assign({},n,{className:o.actions}),t)},oi.ActionButton=e=>{let{primary:t,onClick:n,children:o}=e;const r=ie(ni);return Ke.createElement("button",{type:"button",className:Xn()(r.actionButton,{[r.actionButtonIsPrimary]:t}),onClick:n},o)};var ri={badge:"dd_1H9KS"};Yr(".dd_1H9KS{margin-right:.5em}");const ii=e=>{let{index:t,selected:n,hotkey:o,showHotKeys:r,suggestion:i,onUseExternalSuggestion:s}=e;const a=Fr("ExternalSuggestionItem",ri,{index:t,selected:n,showHotKeys:r}),u=re((()=>{s({index:t,suggestion:i,text:i.text,eventMetrics:{inputType:Uo.MOUSE}})}),[i,s,t]);return Ke.createElement(oi,{selected:n,onClick:u},r?Ke.createElement(Xr,{className:a.badge},o+1):null,Ke.createElement("span",null,i.text," ",Ke.createElement(ei,null,i.sourceLabel)))};var si=Yn(null,{onUseExternalSuggestion:kr})(ii);const ai=e=>{let{suggestions:t,selectedIndex:n,showHotKeys:o,indexOffset:r=0}=e;return Ke.createElement(v,null,t.slice().reverse().map(((e,i)=>Ke.createElement(si,{selected:i===t.length+r-n-1,hotkey:t.length-i-1+r,showHotKeys:o,key:`${e.text}-${e.source}`,suggestion:e,index:i}))))};var ui,li={root:"dd_1AE1I",arrowDown:"dd_2lZTp",arrowUp:"dd_nQKun",tab:"dd_oDRKl",esc:"dd_2FC_E",enter:"dd_1aokz"};Yr('.dd_1AE1I{color:#898b8e;border:1px solid #b3b5b7;background-color:#f8f9fa;border-radius:2px;height:14px;line-height:13px;min-width:26px;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.dd_1AE1I,.dd_1AE1I:before{display:inline-block}.dd_1AE1I:before{position:relative;top:-2px;line-height:9px;font-size:9px}.dd_2lZTp:before,.dd_nQKun:before{color:#cfd1d3;-webkit-transform:scaleX(1.5);transform:scaleX(1.5);font-family:sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.dd_nQKun:before{content:"▲"}.dd_2lZTp:before{content:"▼"}.dd_oDRKl:before{content:"tab";font-weight:400}.dd_2FC_E:before{content:"Esc";font-weight:400}.dd_1aokz:before{content:"↵";font-weight:400}'),function(e){e.ARROW_UP="arrow-up",e.ARROW_DOWN="arrow-down",e.TAB="tab",e.ESC="esc",e.ENTER="enter"}(ui||(ui={}));const ci=e=>{let{className:t,keyCode:n,children:o}=e,r=Bo(e,["className","keyCode","children"]);const i=Fr("KeyboardHint",li,{keyCode:n});return Ke.createElement("span",Object.assign({className:Xn()(t,i.root,{[i.arrowUp]:n===ui.ARROW_UP,[i.arrowDown]:n===ui.ARROW_DOWN,[i.tab]:n===ui.TAB,[i.esc]:n===ui.ESC,[i.enter]:n===ui.ENTER})},r),o)};var di={root:"dd_uHxHE"};Yr(".dd_uHxHE{margin:0;padding:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;overflow:hidden}");const pi=e=>{let{children:t}=e;const n=Fr("SuggestionList",di,{});return Ke.createElement("div",{className:n.root},t)};function fi(e){return e.replace(Mo,"<em>$1</em>")}function hi(e,t){const n=e.reduce(((e,t)=>t?Ho({},e,{[t]:e[t]?e[t]+1:1}):e),{});return Object.keys(n).reduce(((e,o)=>(n[o]<t&&e.push(o),e)),[])}function gi(e,t){if(void 0===t&&(t=""),0===e.length)return;if(1===e.length)return e[0];const n=function(e,t){let n=[...e.map((e=>{let{text:t}=e;return t.split(/(\?| |!|\.|,|\n)/).filter((e=>" "!==e&&""!==e))}))];for(let e=0;e<(o=n,Math.max(...o.map((e=>e.length))));e++){const t=hi(n.map((t=>t[e])),2),o=n.filter((n=>!t.includes(n[e])));if(!(o.length>=2))return{text:n[0].slice(0,e).join(" ").replace(/ (\?| |!|\.|,|\n)/g,"$1"),source:"mixed"};n=o}var o}(e);return n&&n.text!==t?n:e[0]}var mi={badge:"dd_3g0DT",formattedText:"dd_2aCto"};function vi(e,t,n,o){return void 0===o&&(o={}),t===jo.SEARCH?fi(function(e,t){if(t){const n=t.replace(/[^a-zA-Z0-9]/g,"");return e.replace(new RegExp(`(${n.trim()})`,"gi"),"<strong>$1</strong>")}return e}(e,n)):fi(function(e,t,n){if(void 0===n&&(n={}),t){const o=t.split(Ro),r=function(e,t){const n=e.split("").findIndex(((e,n)=>e!==t[n]));return n>-1?n:Math.min(e.length,t.length)}(t.toLowerCase(),e.toLowerCase()),i=o.length>3||t.length>80?function(e,t){return e.split("").map(((e,t)=>({char:e,index:t}))).filter((e=>{let{char:n,index:o}=e;return/\s/.test(n)&&o<=t})).map((e=>{let{index:t}=e;return t})).reverse()[0]}(t.trim(),r):0,s=`${i>0?"…":""}${e.substring(i,r)}`,a=e.substring(r,e.length);return n.stripAgentPart?"…"+a:`${s}<strong>${a}</strong>`}return e}(e,n,o))}Yr(".dd_3g0DT{margin-right:.5em}.dd_2aCto{white-space:normal;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}");const yi=e=>{let{index:t,hotkey:n,showHotKeys:o,isHoverSuggestionsEnabled:r,selected:i,suggestion:s,userModifiedText:a,offeredTextSuggestion:u,onUseTextSuggestion:l,setTabCompletionSuggestion:c,defaultTabCompletion:d}=e;const p=r,f=Fr("TextSuggestion",mi,{index:t,showHotKeys:o,selected:i}),h=ne(null);ee((()=>{const e=setTimeout((()=>{u({text:s.text,suggestion:s})}),500);return()=>{clearTimeout(e)}}),[s,u]);const g=re((()=>{r&&c(s)}),[s,r,c]),m=re((()=>{r&&c(d)}),[d,r,c]);ee((()=>{const e=h.current;if(!e)return;const n=()=>l({index:t,suggestion:s,text:s.text,eventMetrics:{inputType:Uo.MOUSE}});return e.addEventListener("click",n),()=>{e.removeEventListener("click",n)}}),[s,l,t]);const v=oe((()=>vi(s.text,s.source,a,{stripAgentPart:p})),[s.text,s.source,a,p]);return s.source===jo.GPT?null:Ke.createElement(oi,{ref:h,as:"button",selected:i,onMouseEnter:g,onMouseLeave:m},o?Ke.createElement(Xr,{className:f.badge},n+1):null,Ke.createElement("div",{className:f.formattedText,dangerouslySetInnerHTML:{__html:v}}))};var _i=Yn((e=>{let{input:t,suggestions:n,settings:o}=e;return{isHoverSuggestionsEnabled:o.hoverSuggestions,defaultTabCompletion:gi(n.textSuggestions,t.userModifiedText)}}),{setTabCompletionSuggestion:Er,onUseTextSuggestion:Cr,offeredTextSuggestion:e=>({type:er,payload:e})})(yi);const bi=e=>{let{suggestions:t,selectedIndex:n,showHotKeys:o,userModifiedText:r}=e;return Ke.createElement(v,null,t.slice().reverse().map(((e,i)=>Ke.createElement(_i,{key:`${e.text}-${e.source}`,index:t.length-i-1,selected:i===t.length-n-1,hotkey:t.length-i-1,showHotKeys:o,suggestion:e,userModifiedText:r}))))};var Ai={root:"dd_2yY38",isCollapsed:"dd_30d36"};Yr(".dd_2yY38{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;z-index:1;position:absolute;width:30px;height:18px;top:-18px;padding:0 6px;text-align:center;right:0;border-radius:0}.dd_2yY38,.dd_2yY38:focus,.dd_2yY38:hover{background-color:#fff}.dd_30d36 svg{-webkit-transform:scaleY(-1);transform:scaleY(-1)}");const wi=e=>{let{className:t,isCollapsed:n,title:o,onClick:r}=e;const i=Fr("ToggleButton",Ai,{isCollapsed:n});return Ke.createElement("button",{type:"button",className:Xn()(i.root,t,{[i.isCollapsed]:n}),onClick:r,title:o},Ke.createElement("svg",{width:"14",height:"8",viewBox:"-2.5 -5 75 60",preserveAspectRatio:"none"},Ke.createElement("path",{d:"M0,0 l35,50 l35,-50",fill:"none",stroke:"grey",strokeLinecap:"round",strokeWidth:"6"})))};var xi={root:"dd_3zoNU",collapsible:"dd_6-bGK",toggleButton:"dd_3tooS",isCollapsed:"dd_D23QZ",hints:"dd_1ADFD",hint:"dd_2imvA"};Yr(".dd_3zoNU{position:absolute;bottom:100%;left:0;width:100%;pointer-events:auto;z-index:1}.dd_6-bGK{overflow:hidden}.dd_3tooS{font-size:inherit}.dd_D23QZ .dd_6-bGK{display:none}.dd_1ADFD{pointer-events:none;display:-webkit-box;display:flex;position:absolute;top:-15px;right:10px;-webkit-box-align:center;align-items:center;z-index:1}.dd_1ADFD>*{display:block;margin:2px}.dd_1ADFD span{font-size:9px;color:#b3b5b7}.dd_1ADFD span:before{top:0}.dd_2imvA{border:0!important;background-color:transparent!important;min-width:auto!important}");var Si={arrowHint_690af9d3:function(e){return"Select with arrow keys"},open_b623f306:function(e){return"Open"},collapse_193c3670:function(e){return"Close"}},Ei={arrowHint_690af9d3:function(e){return"Selecteer met pijltoetsen"},open_b623f306:function(e){return"Open"},collapse_193c3670:function(e){return"Sluiten"}};dn.register("4e92256f",{en_US:()=>Promise.resolve(Si),nl_NL:()=>Promise.resolve(Ei)});const Ti=e=>{let{showToggleButton:t,textSuggestions:n,externalSuggestions:o,showHotKeys:r,showOverlay:i,userModifiedText:s,selectedIndex:a,isOverlayCollapsed:u,setOverlayCollapsed:l,setOverlayHasFocus:c}=e;const d=Fr("SuggestionsOverlay",xi,{showToggleButton:t,showHotKeys:r,selectedIndex:a}),p=fn(),[f,h]=X(!1),g=n.filter((e=>e.source!==jo.GPT)).length+o.length,m=t&&g>0;return ee((()=>{0===g&&h(!1)}),[n,o,g]),i?Ke.createElement("div",{className:Xn()(d.root,{[d.isCollapsed]:u}),onFocus:()=>c(!0),onBlur:()=>c(!1)},m?Ke.createElement(wi,{className:d.toggleButton,title:p(u?"open_b623f306":"collapse_193c3670"),onClick:()=>{l(!u)},isCollapsed:u}):null,Ke.createElement("div",{className:d.collapsible,onMouseOver:()=>h(!0),onMouseLeave:()=>h(!1)},Ke.createElement(pi,null,Ke.createElement(ai,{suggestions:o,selectedIndex:a,indexOffset:n.length,showHotKeys:r}),Ke.createElement(bi,{suggestions:n,selectedIndex:a,showHotKeys:r,userModifiedText:s})),f&&Ke.createElement("div",{className:d.hints},Ke.createElement("span",null,p("arrowHint_690af9d3")),Ke.createElement(ci,{className:d.hint,keyCode:ui.ARROW_DOWN}),Ke.createElement(ci,{className:d.hint,keyCode:ui.ARROW_UP})))):null};var Ci=Yn((e=>{let{input:t,ui:n,suggestions:o,settings:r}=e;return{userModifiedText:t.userModifiedText,showHotKeys:n.showHotKeys,showOverlay:(!r.hideOnBlur||n.inputHasFocus||n.overlayHasFocus)&&r.visible,isOverlayCollapsed:n.overlayCollapsed,selectedIndex:o.selectedTextSuggestionIndex,textSuggestions:o.textSuggestions,externalSuggestions:o.externalSuggestions}}),{setOverlayCollapsed:qr,setOverlayHasFocus:Vr})(Ti);function ki(e,t){if(0===e.childNodes.length)return void e.appendChild(t);const n=e.childNodes[e.childNodes.length-1];switch(n.nodeType){case Node.ELEMENT_NODE:switch(n.nodeName){case"BR":e.insertBefore(t,n);break;case"A":case"IMG":e.insertBefore(t,null);break;default:ki(n,t)}break;case Node.TEXT_NODE:e.insertBefore(t,null)}}var Ii={agentText:"dd_3kRjJ",hint:"dd_dVEFS",tabText:"dd_2XaSl"};Yr(".dd_3kRjJ,.dd_3kRjJ>*{color:transparent!important}.dd_dVEFS,.dd_2XaSl{opacity:.5}.dd_dVEFS{margin-left:.5em}");const Oi=e=>{let{styles:t,showTabHint:n,agentHtml:o,tabText:r,source:i,hoverSuggestionsEnabled:s}=e;const a=ne(null);return te((()=>{if(!a.current)return;const e=window.getComputedStyle(a.current.parentNode),o=document.createElement("span");return o.style.position="relative",o.style.color=e.color,Ke.render(Ke.createElement(v,null,s&&Ke.createElement(Ci,{showToggleButton:!1}),Ke.createElement("span",{className:t.tabText,"data-source":i},r),n&&r&&Ke.createElement(ci,{className:t.hint,keyCode:ui.TAB})),o),ki(a.current,o),()=>{o.remove()}}),[o,r,n,s,i,t.hint,t.tabText]),Ke.createElement("div",{ref:a,className:t.agentText,dangerouslySetInnerHTML:{__html:o}})},Pi=e=>{let{styles:t,showTabHint:n,agentText:o,tabText:r,source:i,hoverSuggestionsEnabled:s}=e;return Ke.createElement(v,null,Ke.createElement("span",{className:t.agentText},o),s&&Ke.createElement(Ci,{showToggleButton:!1}),Ke.createElement("span",{className:t.tabText,"data-source":i},r),n&&r&&Ke.createElement(ci,{className:t.hint,keyCode:ui.TAB}))},Di=e=>{const t=Fr("TabCompletion",Ii,{showTabHint:e.showTabHint});return e.enabled?function(e){return"string"==typeof e.agentHtml}(e)?Ke.createElement(Oi,Object.assign({},e,{styles:t})):Ke.createElement(Pi,Object.assign({},e,{styles:t})):null};var Ni=Yn((e=>{let{input:t,ui:n,settings:o}=e;const r=t.tabCompletionSuggestion,i=(null==r?void 0:r.text)||"",s=(null==r?void 0:r.source)||"",a=t.text,u=t.html,l=0===i.indexOf(a)?i.slice(a.length):"",{showTabHint:c}=n,{tabCompletion:d,hoverSuggestions:p,visible:f}=o;return{showTabHint:c,agentText:a,agentHtml:u,tabText:l,source:s,hoverSuggestionsEnabled:p,enabled:d&&f}}))(Di);function Ri(e){return Array.isArray(e)?e.map(Ri):"object"==typeof e&&null!==e?Object.keys(e).reduce(((t,n)=>Ho({},t,{[n.replace(/(_\w)/g,(e=>e[1].toUpperCase()))]:Ri(e[n])})),{}):e}function Mi(e){return Array.isArray(e)?e.map(Mi):"object"==typeof e&&null!==e?Object.keys(e).reduce(((t,n)=>Ho({},t,{[n.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`))]:Mi(e[n])})),{}):e}const Li=()=>async(e,t,n)=>{const o=await n.autoflowApi.getAutoflows({credentials:"include"});e({type:br,payload:o})},ji=e=>async(t,n,o)=>{const r=await o.autoflowSessionApi.getSession(e,{credentials:"include"});t({type:xr,payload:r})};var Ui;function Hi(e){return{"data-hookid":e}}!function(e){e.WIDGET="widget",e.DEVICES="devices",e.AGENT_INPUT="agent-input",e.CONSUMER_DEVICE="consumer-device",e.CONSUMER_INPUT="consumer-input",e.AGENT_WINDOW="agent-window",e.TEXT_SUGGESTIONS="text-suggestions",e.URL_SUGGESTIONS="url-suggestions"}(Ui||(Ui={}));var Bi={root:"dd_2vzNV",start:"dd_zv0q0",stop:"dd_Jw7Y8"};Yr(".dd_2vzNV{cursor:pointer;text-transform:uppercase;color:#fff;border:none;width:150px;align-self:center;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;padding:.6em;font-size:inherit}.dd_2vzNV img,.dd_2vzNV span{display:block}.dd_2vzNV span{margin-left:.5em;font-size:.9em}.dd_zv0q0{background:#4fc0e8}.dd_Jw7Y8{background:#d93448}");var Fi={start_ce02cb16:function(e){return"Start"},stop_622b7535:function(e){return"Stop"}},Ki={start_ce02cb16:function(e){return"Start"},stop_622b7535:function(e){return"Stop"}};dn.register("04783eef",{en_US:()=>Promise.resolve(Fi),nl_NL:()=>Promise.resolve(Ki)});var Wi={start:"start_ce02cb16",stop:"stop_622b7535"};const zi={start:"data:image/svg+xml,%3Csvg width='7px' height='10px' viewBox='0 0 7 10' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='Widget-Autoflow' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' stroke-linejoin='round'%3E%3Cg id='Artboard-Copy-5' transform='translate(-1568.000000, -821.000000)' fill='%23FFFFFF' stroke='%23FFFFFF'%3E%3Cg id='Autoflow-Copy' transform='translate(1208.000000, 769.000000)'%3E%3Cg id='Button-Ja,-dat-wil-ik' transform='translate(350.000000, 42.000000)'%3E%3Cg id='Group-3' transform='translate(6.189594, 9.076923)'%3E%3Cpolygon id='Rectangle' transform='translate(5.361374, 5.923077) rotate(-315.000000) translate(-5.361374, -5.923077) ' points='2 3.11420973 8.72274766 2.56952353 8.17806147 9.27663053'%3E%3C/polygon%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E",stop:"data:image/svg+xml,%3Csvg width='9px' height='8px' viewBox='0 0 9 8' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='Widget-Autoflow' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Artboard-Copy-5' transform='translate(-1568.000000, -873.000000)' fill='%23FFFFFF'%3E%3Cg id='Autoflow-Copy' transform='translate(1208.000000, 769.000000)'%3E%3Cg id='Button-Ja,-dat-wil-ik' transform='translate(350.000000, 93.000000)'%3E%3Crect id='Rectangle' x='10.0431472' y='11' width='8.02030457' height='8'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A"},$i=e=>{let{state:t,onPress:n}=e;const o=Fr("AutoflowButton",Bi,{state:t}),r=fn();return Ke.createElement("button",{className:Xn()(o.root,{[o.start]:"start"===t,[o.stop]:"stop"===t}),onClick:n},Ke.createElement("img",{src:zi[t],alt:`${t} autoflow`}),Ke.createElement("span",null,r(Wi[t])," autoflow"))};var Gi={isDisabled:"dd_27MKQ",autoflowText:"dd_3OD5p",autoflowListItem:"dd_2U4a4"};Yr(".dd_27MKQ,.dd_27MKQ .dd_3OD5p p{color:#ccc}.dd_2U4a4{display:-webkit-box;display:flex;-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;flex-direction:row!important;-webkit-box-align:center!important;align-items:center!important}.dd_3OD5p{-webkit-box-flex:1;flex:1;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;min-height:40px;padding:.25rem}.dd_3OD5p p{margin:0;color:#555;font-size:smaller;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}");const Vi=e=>{let{state:t,displayName:n,description:o,onStartAutoflow:r,onStopAutoflow:i}=e;const s=Fr("Autoflow",Gi,{state:t});return Ke.createElement(oi,{className:Xn()("disabled"===t&&s.isDisabled)},Ke.createElement("div",{className:s.autoflowText},Ke.createElement("strong",null,n),Ke.createElement("p",null,o)),"disabled"!==t&&Ke.createElement($i,{state:"started"===t?"stop":"start",onPress:"started"===t?i:r}))};var qi={};Yr("");const Ji=(e,t)=>e?e===t?"started":"disabled":"stopped",Yi=e=>{let{autoflows:t,currentAutoflow:n,onStartAutoflow:o,onStopAutoflow:r,psid:i}=e;const s=Fr("AutoflowList",qi,{});return Ke.createElement("div",{className:s.root},t.map((e=>Ke.createElement(Vi,{displayName:e.displayName,description:e.description,key:e.displayName,state:Ji(n,e.triggerPayload),onStartAutoflow:()=>o(i,e.triggerPayload),onStopAutoflow:()=>r(i,e.triggerPayload)}))))};var Zi=Yn((e=>{let{autoflows:t,info:n}=e;return{autoflows:t.autoflows,currentAutoflow:t.currentAutoflow,psid:n.visitorInfo.psid}}),{getAutoflows:Li,getCurrentAutoflow:ji,onStartAutoflow:(e,t)=>async(n,o,r)=>{r.deepdeskApi.sendEvent("Start Autoflow",{conversationId:r.deepdeskSdk.conversationId,source:"agent",textSuggestionsV2:[{source:t}]});const i=Mi({triggerPayload:t,psid:e});await r.autoflowSessionApi.startSession(i,{credentials:"include"}),n({type:Ar,payload:t})},onStopAutoflow:(e,t)=>async(n,o,r)=>{r.deepdeskApi.sendEvent("Abort Autoflow",{conversationId:r.deepdeskSdk.conversationId,source:"agent",textSuggestionsV2:[{source:t}]}),await r.autoflowSessionApi.stopSession(e,{credentials:"include"}),n({type:wr})}})(Yi),Xi={root:"dd_1GRKg",subTitleContainer:"dd_14PLD",subtitle:"dd_2ThnB",list:"dd_GQYm_"};Yr(".dd_1GRKg{font-size:inherit}.dd_14PLD{padding-top:.5rem}.dd_2ThnB{font-weight:600;padding-left:10px;font-size:.8rem;text-transform:uppercase;color:#bbb}.dd_GQYm_{font-size:inherit}");const Qi=e=>{let{title:t,children:n}=e,o=Bo(e,["title","children"]);const r=Fr("Section",Xi,{});return Ke.createElement("section",Object.assign({},o,{className:r.root}),t&&Ke.createElement("div",{className:r.subTitleContainer},Ke.createElement("span",{className:r.subtitle},t)),Ke.createElement("div",{className:r.list},n))};var es={root:"dd_384vU"};Yr(".dd_384vU{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}");const ts=Ke.forwardRef(((e,t)=>{let{className:n,children:o}=e;const r=Fr("SectionList",es,{});return Ke.createElement("div",{ref:t,className:Xn()(r.root,n)},o)}));var ns={root:"dd_3DP_V",imageWrapper:"dd_2ATx5",image:"dd_1iVHz",brokenImage:"dd_39JFz",content:"dd_2nF57",cropText:"dd_2SLCH"};Yr(".dd_3DP_V{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;width:100%}.dd_2ATx5{position:relative;height:40px;border:1px solid #eee;width:55px;align-self:flex-start;-webkit-box-flex:0;flex:0 0 55px;margin-top:.1em;margin-bottom:.1em}.dd_1iVHz{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.dd_39JFz{display:block;width:2em;height:2em;position:absolute;top:50%;margin-top:-1em;left:50%;margin-left:-1em;opacity:.5}.dd_2ATx5+.dd_2nF57{padding-left:1rem}.dd_2nF57{overflow:hidden;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between}.dd_2nF57 h1,.dd_2nF57 h2,.dd_2nF57 h3,.dd_2nF57 h4{font-weight:700;font-size:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0}.dd_2nF57 a{pointer-events:none}.dd_2SLCH{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}");const os=B(ns),rs=e=>{let{children:t}=e;const n=Fr("Card",ns,{});return Ke.createElement("div",{className:Xn()(n.root)},Ke.createElement(os.Provider,{value:n},t))};rs.Image=e=>{let{title:t,src:n}=e;const o=ie(os),[r,i]=X((()=>!!n&&/^(https?:\/\/|\/\/)/.test(n))),s=oe((()=>{if(!r)return"";const e=new URL(n);return e.searchParams.append("h","80"),e.toString()}),[n,r]);return Ke.createElement("div",{className:o.imageWrapper},r?Ke.createElement("img",{className:o.image,alt:t,src:s,onError:()=>i(!1)}):Ke.createElement("img",{className:o.brokenImage,alt:t,src:"data:image/svg+xml,%3Csvg width='185' height='170' viewBox='0 0 185 170' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cstyle%3E.cls-1 %7B fill: %23b3b3b3; %7D%3C/style%3E%3C/defs%3E%3Ctitle%3E No image %3C/title%3E%3Cpath class='cls-1' d='M15 130.896V16.994c0-1.097.898-1.994 2.007-1.994h150.986A2 2 0 0 1 170 16.994v69.147L133.015 51 87.26 120.377l-35.863-17.758L15 130.896zM2 0C.895 0 0 .887 0 2v166c0 1.105.887 2 2 2h181c1.105 0 2-.887 2-2V2c0-1.105-.887-2-2-2H2zm49 72c11.046 0 20-9.178 20-20.5S62.046 31 51 31s-20 9.178-20 20.5S39.954 72 51 72z' fill-rule='evenodd'/%3E%3C/svg%3E"}))},rs.Content=e=>{let{cropText:t=!1,children:n}=e;const o=ie(os);return Ke.createElement("div",{className:Xn()(o.content,{[o.cropText]:t})},n)};var is={useSuggestion_037ca7aa:function(e){return"Use"},visitUrl_7af70ff8:function(e){return"Visit"}},ss={useSuggestion_037ca7aa:function(e){return"Gebruik"},visitUrl_7af70ff8:function(e){return"Bekijk"}};dn.register("7462318f",{en_US:()=>Promise.resolve(is),nl_NL:()=>Promise.resolve(ss)});var as="useSuggestion_037ca7aa",us="visitUrl_7af70ff8";const ls=/(https?:\/\/[^\s]+)/g,cs=e=>{let{showImage:t=!1,stickyMessage:n,onUseStickyMessage:o}=e;const r=n.message.split(" ").find((e=>ls.test(e))),i=fn(),s=re((e=>{e.preventDefault(),e.stopPropagation(),o({text:n.message,suggestion:n,eventMetrics:{inputType:Uo.MOUSE}})}),[n,o]),a=re((e=>{window.open(r,"_blank"),e.stopPropagation(),e.preventDefault()}),[r]);return Ke.createElement(oi,{onClick:s},Ke.createElement(rs,null,t&&Ke.createElement(rs.Image,{src:n.image,title:n.title}),Ke.createElement(rs.Content,null,n.title&&Ke.createElement("h1",null,n.title),n.message)),Ke.createElement(oi.Actions,null,r&&Ke.createElement(oi.ActionButton,{onClick:a},i(us)),Ke.createElement(oi.ActionButton,{primary:!0,onClick:s},i(as))))};var ds=Yn(null,{onUseStickyMessage:Or})(cs);const ps=e=>{let{showImages:t=!1,stickyMessages:n}=e;return Ke.createElement(v,null,n.map((e=>Ke.createElement(ds,{key:e.message,showImage:t,stickyMessage:e}))))};var fs=Yn((e=>{let{suggestions:t}=e;return{stickyMessages:t.stickyMessages}}))(ps);function hs(e,t,n,o){return e.split(t).reduce(((e,t,r,i)=>1===i.length?[t,o||"",n]:i.length>1&&r===i.length-1?[...e,t]:[...e,t,n]),[])}const gs=e=>{let{suggestion:t,onUseUrlSuggestion:n,showImage:o,showContext:r}=e;const i=fn(),s=re((e=>{e.preventDefault(),e.stopPropagation();const o=r&&t.context?hs(t.context,"{url}",t.url,"\n").join(""):t.url;n({suggestion:t,text:o,eventMetrics:{inputType:Uo.MOUSE},type:"url"})}),[t,n,r]),a=re((e=>{window.open(t.url,"_blank"),e.stopPropagation(),e.preventDefault()}),[t]),u=r&&t.context?hs(t.context,"{url}",Ke.createElement("a",{href:t.url},t.url),Ke.createElement("br",null)):Ke.createElement("span",null,t.url);return Ke.createElement(oi,{onClick:s},Ke.createElement(rs,null,o&&Ke.createElement(rs.Image,{src:t.image,title:t.title}),Ke.createElement(rs.Content,null,t.title&&Ke.createElement("h1",null,t.title),u)),Ke.createElement(oi.Actions,null,Ke.createElement(oi.ActionButton,{onClick:a},i(us)),Ke.createElement(oi.ActionButton,{primary:!0,onClick:s},i(as))))};var ms=Yn(null,{onUseUrlSuggestion:Ir})(gs);const vs=e=>{let{showImages:t=!1,showContext:n=!1,urlSuggestions:o}=e;return Ke.createElement(v,null,o.slice().map((e=>Ke.createElement(ms,{key:e.url,showImage:t,showContext:n,suggestion:e}))))};var ys=Yn((e=>{let{suggestions:t}=e;return{urlSuggestions:t.urlSuggestions}}))(vs),_s={waiting_38d6f19e:function(e){return"Waiting for conversation…"},titleUrlSuggestions_87f1273a:function(e){return"Link suggestions"},titleStickyMessages_15e14c08:function(e){return"Sticky messages"},titleAutoflows_236aeea5:function(e){return"Autoflows"}},bs={waiting_38d6f19e:function(e){return"Wacht op conversatie…"},titleUrlSuggestions_87f1273a:function(e){return"Link suggesties"},titleStickyMessages_15e14c08:function(e){return"Actueel"},titleAutoflows_236aeea5:function(e){return"Autoflows"}};dn.register("71ccfc0f",{en_US:()=>Promise.resolve(_s),nl_NL:()=>Promise.resolve(bs)});var As={root:"dd_2d4Al",waiting:"dd_39w2G",focusControl:"dd_1m1B4",verticalAlignBottom:"dd_3P2Nw",sectionListContainer:"dd_yCZR6",sectionList:"dd_1ZD4y",agentInput:"dd_1VBJt"};Yr(".dd_2d4Al{display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.dd_39w2G{position:absolute;width:100%;font-weight:300;text-align:center;color:#999;top:30%}.dd_1m1B4{position:fixed;top:0;right:0;padding:2px;z-index:1}.dd_1m1B4 a{color:#848484;font-size:.9rem;text-decoration:none}.dd_1m1B4 a:hover{text-decoration:underline}.dd_3P2Nw{-webkit-box-pack:end;justify-content:flex-end;height:100vh}.dd_yCZR6{position:relative;-webkit-box-flex:1;flex:1 1 auto}.dd_1ZD4y{position:relative}.dd_1VBJt{-webkit-box-flex:0;flex:0 0 auto}.dd_3P2Nw .dd_1ZD4y>:first-child{margin-top:auto}.dd_3P2Nw .dd_1ZD4y{top:18px}");const ws=e=>{let{showImages:t=!1,showContext:n=!1,showUrlSuggestions:o,showStickyMessages:r,showAutoflows:i,hasAutoflows:s,hasStickyMessages:a,hasUrlSuggestions:u,autoflows:l,psid:c,getAutoflows:d,getCurrentAutoflow:p}=e;const f=Fr("Widget",As,{showAutoflows:i,showStickyMessages:r,showUrlSuggestions:o,hasAutoflows:s,hasStickyMessages:a,hasUrlSuggestions:u}),h=Ke.createRef(),g=fn();return ee((()=>{c&&void 0===l&&(d(),p(c))}),[c,l,d,p]),u?Ke.createElement("div",Object.assign({className:Xn()(f.root)},Hi(Ui.WIDGET)),Ke.createElement("div",{className:f.sectionListContainer},Ke.createElement(ts,{className:f.sectionList,ref:h},o&&u&&Ke.createElement(Qi,Object.assign({title:g("titleUrlSuggestions_87f1273a")},Hi(Ui.URL_SUGGESTIONS)),Ke.createElement(pi,null,Ke.createElement(ys,{showImages:t,showContext:n}))),r&&a&&Ke.createElement(Qi,{title:g("titleStickyMessages_15e14c08")},Ke.createElement(pi,null,Ke.createElement(fs,{showImages:t}))),i&&s&&Ke.createElement(Qi,{title:g("titleAutoflows_236aeea5")},Ke.createElement(pi,null,Ke.createElement(Zi,null)))))):Ke.createElement("div",{key:"waiting",className:f.waiting},Ke.createElement("div",null,Ke.createElement("p",null,g("waiting_38d6f19e"))))};var xs,Ss=Yn((e=>{let{info:t,suggestions:n,autoflows:o}=e;return{hasUrlSuggestions:n.urlSuggestions.length>0,hasStickyMessages:n.stickyMessages.length>0,hasAutoflows:void 0!==o.autoflows&&o.autoflows.length>0,autoflows:o.autoflows,psid:t.visitorInfo.psid}}),{onSetShowHotKeys:zr,getAutoflows:Li,getCurrentAutoflow:ji})(ws);function Es(e){return"textarea"===e.tagName.toLowerCase()}!function(e){e.CUT="Cut",e.BACKSPACE="Backspace",e.DELETE="Delete",e.ERASEEOF="EraseEof",e.UNDO="Undo",e.CLEAR="Clear"}(xs||(xs={}));class Ts{constructor(e){this.element=e,this.eventListeners={},this.disposeHandlers=[],this.currentText="",this.currentHTML="",this.currentSelection="",this.isFocused=!1,this.isActive=!0,this.isSettingValue=!1,this.isSubmitting=!1,this.isPossibleClearInputAction=!1,this.isDisposed=!1,this.stopSelectionChangeListener=()=>{},this.currentText=this.getText(),this.currentHTML=this.getHTML(),this.listen()}addEventListener(e,t){const n=e=>{t(e)};this.element.addEventListener(e,n),this.disposeHandlers.push((()=>{this.element.removeEventListener(e,n)}))}removeEventListener(e,t){this.element.removeEventListener(e,t)}triggerChange(){const e=this.getText(),t=this.getHTML(),n=e!==this.currentText;this.isActive&&(""!==e||""===this.currentText||this.isSettingValue||this.isPossibleClearInputAction||(this.isSubmitting=!0,this.emit("submit")),this.isSettingValue||!n||this.isSubmitting||this.emit("change",e),this.currentText=e,this.isSubmitting=!1,(this.currentHTML!==t||null===t&&n)&&(null===t?this.emit("updated",e):this.emit("updated",e,t),this.currentHTML=t))}handleSelectionStart(){this.stopSelectionChangeListener();const e=()=>{if(Es(this.element)){const e=this.element;this.currentSelection=e.value.substring(e.selectionStart,e.selectionEnd)}else{const e=window.getSelection();this.currentSelection=e?e.toString():""}};document.addEventListener("selectionchange",e),this.stopSelectionChangeListener=()=>{document.removeEventListener("selectionchange",e)}}handleKeyUp(e){const{key:t,shiftKey:n}=e;("Enter"===t&&!0===n||"Backspace"===t)&&this.triggerChange()}handleFocus(){this.isFocused||this.emit("focus"),this.isFocused=!0}handleBlur(){this.isPossibleClearInputAction=!1,this.stopSelectionChangeListener(),this.isFocused&&this.emit("blur"),this.isFocused=!1}handleKeyDown(e){const{key:t,ctrlKey:n,metaKey:o}=e;this.isPossibleClearInputAction=Object.values(xs).includes(t)||"z"===t.toLowerCase()&&(n||o),this.emit("keydown",e)}handleCut(){const e=this.currentSelection;this.isPossibleClearInputAction=!0,e&&(this.currentSelection="",this.emit("cut",e))}handlePaste(e){const t=this.currentSelection,n=(e.clipboardData||window.clipboardData).getData("text");this.currentSelection="",this.emit("paste",{pastedText:n,selectionText:t})}listen(){this.addEventListener("keydown",(e=>this.handleKeyDown(e))),this.addEventListener("keyup",(e=>this.handleKeyUp(e))),this.addEventListener("input",(()=>this.triggerChange())),this.addEventListener("change",(()=>this.triggerChange())),this.addEventListener("focus",(()=>this.handleFocus())),this.addEventListener("blur",(()=>this.handleBlur())),this.addEventListener("selectstart",(()=>this.handleSelectionStart())),this.addEventListener("cut",(()=>this.handleCut())),this.addEventListener("paste",(e=>this.handlePaste(e))),document.activeElement===this.element&&queueMicrotask((()=>this.handleFocus()))}focus(){this.element.focus()}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.isActive&&!this.isDisposed&&this.eventListeners[e]&&this.eventListeners[e].forEach((e=>{e(...n)}))}on(e,t){this.isDisposed||(this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t))}activate(){this.isActive=!0}deactivate(){this.isActive=!1}dispose(){this.disposeHandlers.forEach((e=>e())),this.eventListeners={},this.isDisposed=!0}}class Cs extends Ts{getText(){return this.element.textContent||""}getHTML(){return this.element.innerHTML||""}applyChanges(e){var t;if(!this.isActive)return;this.isSettingValue=!0;const n=this.getText();e(this.element),null==(t=this.observer)||t.takeRecords(),this.currentText=this.getText();const o=n!==this.currentText;if(o&&this.triggerChange(),this.isSettingValue=!1,o){const e=document.createRange();e.selectNodeContents(this.element),e.collapse(!1);const t=window.getSelection();if(!t)return;t.removeAllRanges(),t.addRange(e),this.focus()}}listen(){super.listen(),this.observer=new MutationObserver((()=>{setTimeout((()=>{this.triggerChange()}),0)})),this.observer.observe(this.element,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}dispose(){super.dispose(),this.observer&&this.observer.disconnect()}}class ks extends Error{constructor(e,t){super(e),this.body=t,this.name="CustomError"}}const Is=e=>new Promise((t=>setTimeout(t,e)));class Os extends ks{constructor(){super(...arguments),this.name="ClientError"}}class Ps extends ks{constructor(){super(...arguments),this.name="ServerError"}}class Ds{constructor(e,t){void 0===e&&(e="/api"),void 0===t&&(t={}),this.baseUrl=e,this.options=t,this.latestRequestByUrl={},this.fetch=window.fetch.bind(window)}patchFetch(e){this.fetch=e(this.fetch)}async request(e,t){void 0===t&&(t={});const n=`${this.baseUrl}${e}`,o=new AbortController,{signal:r}=o,i=this.fetch,{abortLatest:s=!1,attempts:a=1,retryDelay:u=500,retryOnError:l=(e=>e instanceof TypeError),retryOnResponse:c=(e=>e.status>=500)}=t,d=Bo(t,["abortLatest","attempts","retryDelay","retryOnError","retryOnResponse"]),p=Ho({credentials:"include",signal:r,headers:Ho({"Content-Type":"application/json"},this.options.token?{Authorization:`Bearer ${this.options.token}`}:{},d.headers)},d);let f=a;if(!i)throw new Error("fetch is not set");s&&this.latestRequestByUrl[n]&&this.latestRequestByUrl[n].abort(),this.latestRequestByUrl[n]=o;const h=()=>(f--,i(n,p).then((async e=>c(e)&&!r.aborted&&f>0?(await Is(u),h()):e)).catch((async e=>{if(l(e)&&!r.aborted&&f>0)return await Is(u),h();throw e}))),g=await h(),m=await g.json().catch((()=>null));if(g.status>=500)throw new Ps("Server Error",m);if(401===g.status)throw new Os("Unauthorized",m);if(403===g.status)throw new Os("Forbidden",m);if(404===g.status)throw new Os("Not Found",m);if(g.status>=400)throw new Os("Bad Request",m);return delete this.latestRequestByUrl[n],m}get(e,t){return this.request(e,t)}post(e,t,n){return this.request(e,Ho({method:"POST",body:JSON.stringify(t)},n))}put(e,t,n){return this.request(e,Ho({method:"PUT",body:JSON.stringify(t)},n))}delete(e,t){return this.request(e,Ho({method:"DELETE"},t))}}const Ns={info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.info("[Deepdesk]",...t)},warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn("[Deepdesk]",...t)},error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("[Deepdesk]",...t)}};var Rs,Ms;!function(e){let t;!function(e){e.SEND_MESSAGE="Send Message",e.HANDLING_TIME="Handling Time",e.START_AUTOFLOW="Start Autoflow",e.ABORT_AUTOFLOW="Abort Autoflow",e.ADD_TO_PERSONAL_COLLECTION="Add to personal collection",e.DELETE_FROM_PERSONAL_COLLECTION="Delete from personal collection"}(t=e.EventType||(e.EventType={}))}(Rs||(Rs={}));class Ls{constructor(e,t){void 0===t&&(t={}),this.latestReceivedDeepdeskVersions={},this.logger=Ns,this.client=new Ds(e,t),this.client.patchFetch((e=>async(t,n)=>{const o=await e(t,n);return this.handleDeepdeskVersionHeaders(o),o}))}async createConversation(e){let{sessionId:t,agentId:n,channel:o,platform:r,profileCode:i}=e;return this.logger.info(`Creating conversation for session ${t} and agent ${n}`),Ri(await this.client.post("/conversations",{channel:o,platform:r,session_id:t,agent_id:n,profile_code:i}))}async getConversationBySessionId(e,t){void 0===t&&(t={}),this.logger.info(`Getting conversation for session ${e}`);const{attempts:n=1,retryDelay:o=1e3}=t;return Ri(await this.client.get(`/conversations/by_session_id/${e}`,{attempts:n,retryDelay:o,retryOnResponse:e=>404===e.status||e.status>=500}))}async updateConversation(e,t){return Ri(await this.client.put(`/conversations/${e}`,Mi(t)))}async updateConversationTranscript(e,t){return Ri(await this.client.post(`/conversations/${e}/messages`,{messages:Mi(t)}))}async sendEvent(e,t){const n=Object.entries(this.latestReceivedDeepdeskVersions).reduce(((e,t)=>{let[n,o]=t;return Ho({},e,{[n]:o})}),{});return this.client.post("/events",{event:e,data:Mi(Ho({},t,n))})}async getTextSuggestions(e,t){void 0===t&&(t={});const n=new URLSearchParams(Mi(t));return(await this.client.post(`/conversations/${e}/recommend/free?${n.toString()}`,{},{abortLatest:!0})).map((e=>({abTestName:e.ab_test_name,abVariant:e.ab_variant,score:e.score,source:jo.TEXT_RECOMMENDATION,sourceText:e.source_text,text:e.text,trainingJobs:e.training_jobs}))).filter(((e,t,n)=>t===n.findIndex((t=>t.text===e.text))))}async getAutocompleteSuggestions(e,t,n){void 0===n&&(n={});const o=new URLSearchParams(Mi(n));return(await this.client.post(`/conversations/${e}/autocomplete?${o.toString()}`,{input:t},{abortLatest:!0})).map((e=>({score:1,source:e.source,sourceText:e.source_text,text:e.label,trainingJobs:e.training_jobs}))).filter(((e,t,n)=>t===n.findIndex((t=>t.text===e.text))))}async getURLSuggestions(e){return Ri(await this.client.post(`/conversations/${e}/recommend/url`,{},{abortLatest:!0}))}async getStickyMessages(e){return Ri(await this.client.get(`/conversations/${e}/sticky-messages`,{abortLatest:!0}))}handleDeepdeskVersionHeaders(e){e.headers.forEach(((e,t)=>{const n=t.toLowerCase(),o=n.match(Lo);if(!e||!o)return;const r=o[1].replace("-","_"),i=this.latestReceivedDeepdeskVersions[r];i&&e&&i!==e&&this.logger.warn(`Overwritten Version header ${n}: ${JSON.stringify(i)} -> ${JSON.stringify(e)}`),this.latestReceivedDeepdeskVersions[r]=e}))}}!function(e){e.NL_NL="nl_NL",e.EN_US="en_US"}(Ms||(Ms={}));const js=rn({name:"settings",initialState:{visible:!0,tabCompletion:!1,hoverSuggestions:!1,hideOnBlur:!1,hotKeys:!1,nrTextSuggestions:0,nrUrlSuggestions:0},reducers:{set:{prepare:(e,t)=>({payload:{key:e,value:t}}),reducer(e,t){const{key:n,value:o}=t.payload;e[n]=o}}}}),{set:Us}=js.actions;var Hs=js.reducer;const Bs={autoflows:void 0,currentAutoflow:void 0},Fs={text:"",html:null,userModifiedText:"",tabCompletionSuggestion:void 0,previousKeyDownEvent:null,metrics:{numCharsTyped:0,numCharsAssisted:0,numCharsPasted:0,numCharsCut:0,numNavigational:0,numCharsDeleted:0,numPaste:0,agentStartedTypingTimestamp:null,pastes:[],deletions:[],offeredTextSuggestions:[],textSuggestions:[],urlSuggestions:[],urlLinkSuggestions:[],cuts:[]}};function Ks(e){const{metrics:t,text:n,userModifiedText:o}=e,{textSuggestions:r}=t,i=r[r.length-1];return i&&n.endsWith(i.text)&&!o.endsWith(i.text)?r.slice(0,-1):r}function Ws(e,t){return[...t].reverse().reduce(((e,t)=>{let n,{currentText:o,suggestions:r}=e,i=r;return o.endsWith(t.text)?n=o.slice(0,o.length-t.text.length):(n="",i=[...i,t]),{currentText:n,suggestions:i}}),{currentText:e,suggestions:[]}).suggestions}const zs={textSuggestions:[],externalSuggestions:[],urlSuggestions:[],stickyMessages:[],selectedTextSuggestionIndex:-1,usedSuggestionIndex:-1},$s=Xe({input:function(e,t){switch(void 0===e&&(e=Fs),t.type){case pr:return Fs;case fr:{const{metrics:t,userModifiedText:n,text:o}=e,r=o.startsWith(n)?o.slice(n.length):o,i=o.startsWith(n)?0:n.length,s=r.length-i;return Ho({},e,{text:n,metrics:Ho({},t,{numCharsAssisted:t.numCharsAssisted-s,textSuggestions:Ks(e),urlSuggestions:Ws(e.text,e.metrics.urlSuggestions),urlLinkSuggestions:Ws(e.text,e.metrics.urlLinkSuggestions)})})}case dr:return Ho({},e,{html:t.payload});case rr:{const{agentStartedTypingTimestamp:n}=e.metrics,o=Ho({},e.metrics);if(e.previousKeyDownEvent){const{keyCode:n,shiftKey:s,ctrlKey:a,metaKey:u,altKey:l,selectionText:c}=e.previousKeyDownEvent;switch(n){case 13:s&&(o.numCharsTyped+=1);break;case 8:case 46:{const{text:n}=e,{text:s}=t.payload,a=(r=n,i=s,no.diff(r,i,undefined));n.length-s.length>1&&(o.deletions=[...o.deletions,...a.filter((e=>e.removed)).map((e=>e.value))]),o.numCharsDeleted+=n.length-s.length;break}case 67:case 86:case 88:a||u||(o.numCharsTyped+=1,c&&c.length>0&&(o.numCharsDeleted+=c.length,o.deletions=[...o.deletions,c]));break;case 16:break;default:a||u||l||(o.numCharsTyped+=1,c&&c.length>0&&(o.numCharsDeleted+=c.length,o.deletions=[...o.deletions,c]))}}const s=n||t.payload.text===e.text?n:Date.now();return Ho({},e,{text:t.payload.text,html:t.payload.html||null,userModifiedText:t.payload.userModifiedText,metrics:Ho({},o,{agentStartedTypingTimestamp:s}),previousKeyDownEvent:null})}case Zo:{const{metrics:n}=e,{agentStartedTypingTimestamp:o}=n,{text:r,type:i,suggestion:{abVariant:s,abTestName:a},eventMetrics:{inputType:u}}=t.payload,l=Ho({},n,{agentStartedTypingTimestamp:o||Date.now(),numCharsAssisted:n.numCharsAssisted+r.length});return"url"===i?l.urlSuggestions=[...n.urlSuggestions,{text:r,source:jo.URL_RECOMMENDATION,abVariant:s,abTestName:a,inputType:u}]:"link"===i&&(l.urlLinkSuggestions=[...n.urlLinkSuggestions,{text:r,source:jo.LINK_RECOMMENDATION,abVariant:s,abTestName:a,inputType:u}]),Ho({},e,{text:e.text+r,metrics:l})}case Yo:{const{metrics:n,userModifiedText:o,text:r}=e,{agentStartedTypingTimestamp:i,textSuggestions:s}=n,{text:a,suggestion:{source:u,abVariant:l,abTestName:c,trainingJobs:d,sourceText:p},eventMetrics:{inputType:f}}=t.payload;let h=a.slice(o.length);u===jo.SEARCH?h=a:f===Uo.TAB&&(h=a.slice(r.length));const g=u===jo.SEARCH?o.length:0,m=h.length-g,v=[...f===Uo.TAB?s:Ks(e),{text:h,source:u,abVariant:l,abTestName:c,inputType:f,sourceText:p,trainingJobs:d||[]}];return Ho({},e,{text:a,userModifiedText:f===Uo.TAB?a:o,metrics:Ho({},n,{agentStartedTypingTimestamp:i||Date.now(),numCharsAssisted:m+n.numCharsAssisted,textSuggestions:v})})}case Xo:{const{metrics:n}=e,{agentStartedTypingTimestamp:o}=n,{text:r,eventMetrics:{inputType:i}}=t.payload,s=[...Ks(e),{text:r,source:"sticky-messages",inputType:i}];return Ho({},e,{text:e.text+r,metrics:Ho({},n,{agentStartedTypingTimestamp:o||Date.now(),numCharsAssisted:n.numCharsAssisted+r.length,textSuggestions:s})})}case er:{const{metrics:r}=e,{offeredTextSuggestions:i}=r,{text:s,suggestion:{source:a}}=t.payload;return Ho({},e,{metrics:Ho({},r,{offeredTextSuggestions:(n=i,o={text:s,source:a},n.find((e=>e.text===o.text))?n:n.concat([o]))})})}case Qo:{const{metrics:n}=e,{agentStartedTypingTimestamp:o}=n,{text:r,suggestion:{source:i},eventMetrics:{inputType:s}}=t.payload,a=[...Ks(e),{text:r,source:i,inputType:s}];return Ho({},e,{text:e.text+r,metrics:Ho({},n,{agentStartedTypingTimestamp:o||Date.now(),numCharsAssisted:n.numCharsAssisted+r.length,textSuggestions:a})})}case cr:return Ho({},e,{tabCompletionSuggestion:t.payload});case gr:return Ho({},e,{metrics:Ho({},e.metrics,{numCharsAssisted:t.payload.length})});case vr:{const{metrics:n}=e,o=t.payload;return Ho({},e,{metrics:Ho({},n,{numCharsCut:n.numCharsCut+o.length,cuts:[...n.cuts,o]})})}case mr:{const{metrics:n}=e,{text:o,selectionText:r}=t.payload;return Ho({},e,{metrics:Ho({},n,{numCharsDeleted:n.numCharsDeleted+(r&&r.length?r.length:0),deletions:r&&r.length?[...n.deletions,r]:n.deletions,numCharsPasted:n.numCharsPasted+o.length,numPaste:n.numPaste+1,pastes:[...n.pastes,o]})})}case hr:{const n=Ho({},e.metrics),{keyCode:o}=t.payload;switch(o){case 9:case 17:case 18:case 27:case 33:case 34:case 36:case 35:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:case 39:case 38:case 37:case 40:case 91:case 93:case 224:n.numNavigational+=1}return Ho({},e,{metrics:n,previousKeyDownEvent:t.payload})}default:return e}var n,o,r,i},ui:Jr,suggestions:function(e,t){switch(void 0===e&&(e=zs),t.type){case Yo:return Ho({},e,{usedSuggestionIndex:void 0!==t.payload.index?t.payload.index:e.usedSuggestionIndex,selectedTextSuggestionIndex:void 0!==t.payload.index?t.payload.index:e.selectedTextSuggestionIndex,usedSuggestionType:"text"});case Qo:return Ho({},e,{usedSuggestionIndex:void 0!==t.payload.index?e.textSuggestions.length+t.payload.index:e.usedSuggestionIndex,selectedTextSuggestionIndex:void 0!==t.payload.index?e.textSuggestions.length+t.payload.index:e.selectedTextSuggestionIndex});case yr:{const t=e.textSuggestions.length+e.externalSuggestions.length;return Ho({},e,{selectedTextSuggestionIndex:e.selectedTextSuggestionIndex<t-1?e.selectedTextSuggestionIndex+1:e.selectedTextSuggestionIndex})}case _r:return Ho({},e,{selectedTextSuggestionIndex:e.selectedTextSuggestionIndex>=0?e.selectedTextSuggestionIndex-1:e.selectedTextSuggestionIndex});case ir:return Ho({},e,{selectedTextSuggestionIndex:-1,textSuggestions:t.payload});case sr:return Ho({},e,{urlSuggestions:t.payload});case ar:return Ho({},e,{stickyMessages:t.payload});case ur:return Ho({},e,{selectedTextSuggestionIndex:e.selectedTextSuggestionIndex>e.textSuggestions.length-1?-1:e.selectedTextSuggestionIndex,externalSuggestions:t.payload});case lr:return Ho({},e,{selectedTextSuggestionIndex:t.payload});case pr:return Ho({},e,{selectedTextSuggestionIndex:-1});default:return e}},info:Jo,autoflows:function(e,t){switch(void 0===e&&(e=Bs),t.type){case br:return Ho({},e,{autoflows:t.payload.autoflows.map(Ri)});case Ar:return Ho({},e,{currentAutoflow:t.payload});case wr:return Ho({},e,{currentAutoflow:void 0});case xr:return Ho({},e,{currentAutoflow:Ri(t.payload).triggerPayload});default:return e}},handlingTime:$o,settings:Hs});class Gs extends Ts{getText(){return this.element.value}getHTML(){return null}applyChanges(e){if(!this.isActive)return;this.isSettingValue=!0;const t=this.getText();e(this.element),this.currentText=this.getText();const n=t!==this.currentText;n&&this.triggerChange(),this.isSettingValue=!1,n&&(this.element.setSelectionRange(this.element.value.length,this.element.value.length),this.focus())}listen(){super.listen();const e=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value");Object.defineProperty(this.element,"value",{configurable:!0,get:()=>{var t;return null==e||null==(t=e.get)?void 0:t.call(this.element)},set:t=>{var n;null==e||null==(n=e.set)||n.call(this.element,t),this.triggerChange()}})}}function Vs(e){return e.toISOString().replace("T"," ").replace("Z","")}const qs=["borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","boxSizing","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontWeight","fontKerning","lineHeight","letterSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","whiteSpace","wordBreak","wordSpacing","wordWrap"];function Js(e){return parseInt(e.replace("px",""),10)}function Ys(e){const t=document.createElement("div");t.style.position="absolute",t.style.borderStyle="solid",t.style.borderColor="transparent",t.style.pointerEvents="none";const n=document.createElement("div");n.style.position="absolute",n.style.pointerEvents="none",n.style.height="0",n.style.width="0",n.style.margin="0",n.style.padding="0",n.appendChild(t);const o=()=>{const o=e.getBoundingClientRect(),r=window.getComputedStyle(e),i=n.getBoundingClientRect();var s,a;s=r,a=t,qs.forEach((e=>{a.style[e]=s[e]})),t.style.top=o.top-i.top+"px",t.style.left=o.left-i.left+"px",t.style.width=`${function(e,t){switch(e.boxSizing){case"content-box":return t.width-(Js(e.paddingLeft)+Js(e.borderLeftWidth)+Js(e.paddingRight)+Js(e.borderRightWidth));case"border-box":default:return t.width}}(r,o)}px`,t.style.height=`${function(e,t){switch(e.boxSizing){case"content-box":return t.height-(Js(e.paddingTop)+Js(e.borderTopWidth)+Js(e.paddingBottom)+Js(e.borderBottomWidth));case"border-box":default:return t.height}}(r,o)}px`};return e.parentNode.insertBefore(n,e.nextElementSibling),o(),new No(o).observe(e),t}const Zs=/(\n|(:\))|(:-\))|(:\()|(:-\()|(:\\)|(:-\\)|(:\/)|(:-\/)|([\u{1f300}-\u{1f5ff}\u{1f900}-\u{1f9ff}\u{1f600}-\u{1f64f}\u{1f680}-\u{1f6ff}\u{2600}-\u{26ff}\u{2700}-\u{27bf}\u{1f1e6}-\u{1f1ff}\u{1f191}-\u{1f251}\u{1f004}\u{1f0cf}\u{1f170}-\u{1f171}\u{1f17e}-\u{1f17f}\u{1f18e}\u{3030}\u{2b50}\u{2b55}\u{2934}-\u{2935}\u{2b05}-\u{2b07}\u{2b1b}-\u{2b1c}\u{3297}\u{3299}\u{303d}\u{00a9}\u{00ae}\u{2122}\u{23f3}\u{24c2}\u{23e9}-\u{23ef}\u{25b6}\u{23f8}-\u{23fa}])|([.,;:!?]+))(\s+$|$)/u;class Xs{constructor(e){let{deepdeskUrl:t,brokerUrl:n,version:o="5.1.2",locale:r=Ms.EN_US,token:i}=e;this.inputMediator=null,this.showStickyMessages=!1,this.loadedStickyMessages=!1,this.eventListeners={},this.tabCompletionRootElement=null,this.suggestionsOverlayRootElement=null,this.isMounted=!1,this.logger=Ns,this.middleware=[e=>t=>n=>{switch(n.type){case Zo:this.emit("select-url-suggestion",n.payload);break;case Yo:this.emit("select-text-suggestion",n.payload);break;case Qo:this.emit("select-external-suggestion",n.payload);break;case Xo:this.emit("select-sticky-message",n.payload);break;case tr:this.handleKeyDown(n.payload);break;case"KEY_UP":this.handleKeyUp(n.payload);break;case nr:this.emit("send-metrics",n.payload),this.handleSendMessage();break;case or:this.handleInputChanged(n.payload)}const o=t(n);switch(n.type){case nr:this.handleAfterSendMessage();break;case Wo.toString():this.handleHandlingTimeStopped();break;case fr:this.emit("reset",{text:e.getState().input.text});break;case ir:this.store.dispatch(Er(gi(n.payload,this.userModifiedText)));break;case Yo:case Qo:case Zo:case Xo:if(this.settings.hoverSuggestions){const{text:e}=n.payload;this.store.dispatch(Sr({text:e,userModifiedText:e})),this.store.dispatch(Pr([])),this.refreshAutocompleteSuggestions(e)}break;case or:case cr:if(this.settings.tabCompletion){const{input:t}=e.getState(),n=t.tabCompletionSuggestion&&t.tabCompletionSuggestion.text.startsWith(t.text)?t.tabCompletionSuggestion:{text:""};this.emit("tab-completion-suggestion",n)}break;case sr:this.isReady||(this.isReady=!0,this.emit("ready",void 0))}return o}],this.conversationId=null,this.deepdeskApi=new Ls(t,{token:i}),this.version=o,this.locale=r,this.isReady=!1;const s=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qe,a=n?{deepdeskSdk:this,deepdeskApi:this.deepdeskApi,autoflowApi:new Ur(void 0,n),autoflowSessionApi:new Hr(void 0,n)}:{};this.store=Ze($s,s(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error(Ge(15))},r={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},i=t.map((function(e){return e(r)}));return o=Qe.apply(void 0,i)(n.dispatch),$e($e({},n),{},{dispatch:o})}}}(...this.middleware,nt.withExtraArgument(a)))),this.refreshAutocompleteSuggestions=l()(this.refreshAutocompleteSuggestions,100)}get state(){return this.store.getState()}get settings(){return this.state.settings}get selectedTextSuggestionIndex(){return this.state.suggestions.selectedTextSuggestionIndex}get selectedSuggestionMeta(){let e=this.selectedTextSuggestionIndex;return this.textSuggestions[e]?{index:e,type:"text"}:(e-=this.textSuggestions.length,this.externalSuggestions[e]?{index:e,type:"external"}:{index:-1,type:"text"})}get selectedTextSuggestion(){let e=this.selectedTextSuggestionIndex;return this.textSuggestions[e]?this.textSuggestions[e]:(e-=this.textSuggestions.length,this.externalSuggestions[e]?this.externalSuggestions[e]:void 0)}get usedSuggestionIndex(){return this.state.suggestions.usedSuggestionIndex}get currentTextSuggestion(){const{suggestions:e}=this.state;return e.textSuggestions[e.usedSuggestionIndex]}get textSuggestions(){return this.state.suggestions.textSuggestions}get externalSuggestions(){return this.state.suggestions.externalSuggestions}get userModifiedText(){return this.state.input.userModifiedText}get agentInput(){return this.state.input.text}get tabCompletionSuggestion(){return this.state.input.tabCompletionSuggestion}get visitorInfo(){return this.state.info.visitorInfo}get agentInfo(){return this.state.info.agentInfo}get handlingTime(){return this.state.handlingTime}get metrics(){const{text:e,metrics:{numCharsTyped:t,numCharsPasted:n,numCharsCut:o,numCharsDeleted:r,numPaste:i,agentStartedTypingTimestamp:s,pastes:a,cuts:u,deletions:l,textSuggestions:c,offeredTextSuggestions:d,urlSuggestions:p,urlLinkSuggestions:f}}=this.state.input,h=e.length,g=c.reduce(((e,t)=>{let{text:n}=t;return e+n.length}),0)+p.reduce(((e,t)=>{let{text:n}=t;return e+n.length}),0)+f.reduce(((e,t)=>{let{text:n}=t;return e+n.length}),0),m=null!=s?s:Date.now(),v=(Date.now()-m)/1e3,y=t/v;return{clientVersion:this.version,pastes:a,cuts:u,deletions:l,lenTextTyped:t,lenTextTotal:h,lenTextAssisted:g,lenTextPasted:n,lenTextCut:o,lenTextDeleted:r,timeTotalSeconds:v,charsPerSecond:y,numPastes:i,textSuggestionsV2:c,urlSuggestionsV2:p,urlLinkSuggestionsV2:f,suggestionsCounters:[{source:jo.GPT,count_offered:d.filter((e=>e.source===jo.GPT)).length}],agentId:this.agentInfo.agentId,agentName:this.agentInfo.agentName,agentEmail:this.agentInfo.agentEmail}}async createConversation(e){const t=await this.deepdeskApi.createConversation(e);return this.conversationId=t.id,t}async getConversationBySessionId(e,t){const n=await this.deepdeskApi.getConversationBySessionId(e,t);return this.conversationId=n.id,n}configure(){this.store.dispatch(Us(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]))}setExternalSuggestion(e){this.store.dispatch(Dr([e]))}clearExternalSuggestion(){this.store.dispatch(Dr([]))}setVisitorInfo(e){this.store.dispatch(qo(e))}setAgentInfo(e){this.store.dispatch(Vo(e))}async updateConversationTranscript(e){if(!this.conversationId)throw new Error("No current conversation");const t=await this.deepdeskApi.updateConversationTranscript(this.conversationId,e);return!this.agentInput&&this.isMounted&&this.refresh(),t}updateConversation(e){if(!this.conversationId)throw new Error("No current conversation");return this.deepdeskApi.updateConversation(this.conversationId,e)}handleUseSuggestion(e){var t;this.store.dispatch((t=e.text,{type:gr,payload:t}))}refresh(){this.settings.nrTextSuggestions>0&&this.refreshTextSuggestions(),this.settings.nrUrlSuggestions>0&&this.refreshURLSuggestions(),this.showStickyMessages&&!this.loadedStickyMessages&&(this.refreshStickyMessages(),this.loadedStickyMessages=!0)}notifyInputChanged(e){this.store.dispatch({type:or,payload:e})}syncInputHtml(e){this.store.dispatch({type:dr,payload:e})}notifyKeyDown(e){this.store.dispatch({type:tr,payload:e})}notifyPaste(e,t){this.store.dispatch({type:mr,payload:{text:e,selectionText:t}})}notifyCut(e){this.store.dispatch({type:vr,payload:e})}notifyExternalUrlSuggestion(e){this.store.dispatch(Ir(e))}notifyExternalStickyMessage(e){this.store.dispatch(Or(e))}shouldRetrieveAutocompleteSuggestions(e,t){return!(0===t.indexOf(e)&&1===this.textSuggestions.length&&this.textSuggestions[0].source===jo.GPT&&0===this.textSuggestions[0].text.indexOf(t)&&this.textSuggestions[0].text!==t&&!function(e){return Zs.test(e)}(t))}handleInputChanged(e){var t;const n=this.userModifiedText;if(this.store.dispatch(Sr({text:e,userModifiedText:-1===this.selectedTextSuggestionIndex||e.endsWith(" ")?e:this.userModifiedText,html:null==(t=this.inputMediator)?void 0:t.getHTML()})),e.trim()){if(!this.shouldRetrieveAutocompleteSuggestions(n,e))return;this.refreshAutocompleteSuggestions(e)}else this.isMounted?this.refreshTextSuggestions():this.store.dispatch(Pr([]))}handleKeyDown(e){const{textSuggestions:t,externalSuggestions:n}=this;var o;if(this.store.dispatch((o=function(e){const{which:t,shiftKey:n,ctrlKey:o,metaKey:r,altKey:i}=e;return{keyCode:t,shiftKey:n,ctrlKey:o,metaKey:r,altKey:i,selectionText:Rr(e.target)}}(e),{type:hr,payload:o})),t.length+n.length!==0||27===e.which)switch(e.which){case 38:return this.store.dispatch({type:yr}),this.settings.hoverSuggestions?this.store.dispatch(Er(this.selectedTextSuggestion)):this.useSelectedSuggestion({inputType:Uo.ARROW}),void e.preventDefault();case 40:if(this.store.dispatch({type:_r}),this.settings.hoverSuggestions){const e=this.selectedTextSuggestionIndex>-1?this.selectedTextSuggestion:gi(this.textSuggestions,this.userModifiedText);this.store.dispatch(Er(e))}else-1===this.selectedTextSuggestionIndex?this.store.dispatch(Tr()):this.useSelectedSuggestion({inputType:Uo.ARROW});return void e.preventDefault();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:if(!e.ctrlKey)return;return void(this.settings.hotKeys&&this.selectedTextSuggestionIndex<t.length&&(this.store.dispatch(Nr(e.which-49)),this.useSelectedSuggestion({inputType:Uo.HOTKEY})));case 27:return this.store.dispatch(zr(!1)),this.store.dispatch(Nr(-1)),this.store.dispatch(Tr()),void e.preventDefault();case 17:this.settings.hotKeys&&this.store.dispatch(zr(!0));break;case 9:this.store.dispatch($r(!1)),this.selectedSuggestionMeta.index>-1?(this.useSelectedSuggestion({inputType:Uo.TAB}),this.refreshAutocompleteSuggestions(this.agentInput)):this.settings.tabCompletion&&this.tabCompletionSuggestion&&this.tabCompletionSuggestion.text.startsWith(this.agentInput)&&(this.store.dispatch(Cr({text:this.tabCompletionSuggestion.text,suggestion:this.tabCompletionSuggestion,eventMetrics:{inputType:Uo.TAB}})),this.refreshAutocompleteSuggestions(this.agentInput)),e.preventDefault()}}handleKeyUp(e){switch(e.which){case 17:this.settings.hotKeys&&this.store.dispatch(zr(!1));break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:this.settings.hotKeys&&this.store.dispatch(Nr(-1))}}handleSendMessage(){if(!this.conversationId)throw new Error("No current conversation");this.deepdeskApi.sendEvent("Send Message",Ho({conversationId:this.conversationId,source:"agent",position:this.usedSuggestionIndex+1,text:this.agentInput},this.metrics))}handleAfterSendMessage(){this.store.dispatch({type:pr}),this.store.dispatch(Pr([]))}handlingTimeStart(){this.store.dispatch(Ko())}handlingTimeStop(){this.store.dispatch(Wo())}handleHandlingTimeStopped(){if(!this.conversationId)throw new Error("No current conversation");const{startTime:e,stopTime:t}=this.handlingTime;e&&t&&(this.deepdeskApi.sendEvent("Handling Time",{conversationId:this.conversationId,clientVersion:this.version,agentId:this.agentInfo.agentId,agentName:this.agentInfo.agentName,agentEmail:this.agentInfo.agentEmail,timeStart:Vs(e),timeStop:Vs(t)}),this.store.dispatch(zo()))}notifySubmit(){this.store.dispatch({type:nr,payload:undefined})}useSelectedSuggestion(e){const{type:t,index:n}=this.selectedSuggestionMeta;switch(t){case"text":this.store.dispatch(Cr({index:n,text:this.textSuggestions[n].text,suggestion:this.textSuggestions[n],eventMetrics:e}));break;case"external":this.store.dispatch(kr({index:n,text:this.externalSuggestions[n].text,suggestion:this.externalSuggestions[n],eventMetrics:e}))}}emit(e,t){const n=()=>{this.eventListeners[e]&&this.eventListeners[e].forEach((e=>{e(t)}))};this.inputMediator?this.inputMediator.applyChanges(n):n()}on(e,t){return this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),()=>{this.off(e,t)}}off(e,t){let n;this.eventListeners[e]&&(n=this.eventListeners[e].indexOf(t),n>-1&&this.eventListeners[e].splice(n,1))}renderSuggestionsOverlay(e,t){void 0===t&&(t={});const{customStyles:n,showToggleButton:o=!1}=t,r=Ys(e),i=r.parentElement;i.dataset.id="deepdesk-suggestion-list",this.suggestionsOverlayRootElement=i,Oe(Ke.createElement(Kr,{store:this.store,customStyles:n,locale:this.locale},Ke.createElement(Ci,{showToggleButton:o})),r)}renderTabCompletion(e,t){void 0===t&&(t={});const{customStyles:n}=t,o=Ys(e),r=o.parentElement;r.dataset.id="deepdesk-tab-completion",o.style.overflow="hidden",this.tabCompletionRootElement=r,Oe(Ke.createElement(Kr,{store:this.store,customStyles:n,locale:this.locale},Ke.createElement(Ni,null)),o)}mount(e,t){void 0===t&&(t={suggestionsOverlay:!0,tabCompletion:!0});const{tabCompletion:n,suggestionsOverlay:o,InputMediator:r,detectSubmit:i}=t,s="object"==typeof o?o:{},{hideOnBlur:a=!1,nrTextSuggestions:u=5}=s,l="textarea"===e.tagName.toLowerCase()||"true"===e.contentEditable?e:e.querySelector("textarea, [contenteditable]");if(!l)throw new Error("Invalid targetElement");!1!==o&&(this.renderSuggestionsOverlay(e,s),this.configure("nrTextSuggestions",u),this.configure("hideOnBlur",a)),!1!==n&&(this.renderTabCompletion(l,!0===n?{}:n),this.configure("tabCompletion",!0));const c=r||(Es(l)?Gs:Cs);let d;this.inputMediator=new c(l),this.inputMediator.on("change",(e=>{this.notifyInputChanged(e)})),this.inputMediator.on("updated",((e,t)=>{null!=t&&this.syncInputHtml(t)})),this.inputMediator.on("keydown",(e=>{this.notifyKeyDown(e)})),this.inputMediator.on("paste",(e=>{let{pastedText:t,selectionText:n}=e;this.notifyPaste(t,n)})),this.inputMediator.on("cut",(e=>{this.notifyCut(e)})),this.inputMediator.on("disabled",(()=>{this.unmount()})),this.inputMediator.on("submit",(()=>{i&&this.notifySubmit()}));const p=e=>{clearTimeout(d),d=setTimeout((()=>{this.store.dispatch(Gr(e))}),50)};if(this.inputMediator.on("blur",(()=>p(!1))),this.inputMediator.on("focus",(()=>p(!0))),this.suggestionsOverlayRootElement&&this.suggestionsOverlayRootElement.addEventListener("click",(()=>{var e;null==(e=this.inputMediator)||e.focus()})),this.isMounted=!0,!this.conversationId)return;const f=this.inputMediator.getText();f?this.notifyInputChanged(f):this.refresh()}unmount(){var e;null==(e=this.inputMediator)||e.dispose(),this.suggestionsOverlayRootElement&&this.suggestionsOverlayRootElement.remove(),this.tabCompletionRootElement&&this.tabCompletionRootElement.remove(),this.isMounted=!1}renderWidget(e,t){void 0===t&&(t={});const{customStyles:n,showStickyMessages:o=!1,showUrlSuggestions:r=!1,showAutoflows:i=!1,showImages:s=!1,showContext:a=!1}=t,u="number"==typeof r?r:4;this.showStickyMessages=o,this.configure("nrUrlSuggestions",u),Oe(Ke.createElement(Kr,{store:this.store,customStyles:n,locale:this.locale},Ke.createElement(Ss,{showImages:s,showContext:a,showUrlSuggestions:u>0,showStickyMessages:o,showAutoflows:i})),e)}async refreshTextSuggestions(){if(!this.conversationId)throw new Error("No current conversation");try{const e=this.visitorInfo.visitorTimeZone||Intl.DateTimeFormat().resolvedOptions().timeZone,t=await this.deepdeskApi.getTextSuggestions(this.conversationId,{tz:e});this.store.dispatch(Pr(t.map((e=>Ho({},e,{text:this.populatePlaceholders(e.text)}))).slice(0,this.settings.nrTextSuggestions)))}catch(e){}}async refreshAutocompleteSuggestions(e){if(!this.conversationId)throw new Error("No current conversation");const t=!this.settings.hoverSuggestions;try{const n=this.visitorInfo.visitorTimeZone||Intl.DateTimeFormat().resolvedOptions().timeZone,o=await this.deepdeskApi.getAutocompleteSuggestions(this.conversationId,e,{tz:n});this.store.dispatch(Pr(o.filter((e=>t||e.source!==jo.TRIE_WITH_TYPOS)).map((e=>Ho({},e,{text:this.populatePlaceholders(e.text)}))).slice(0,this.settings.nrTextSuggestions)))}catch(e){}}async refreshURLSuggestions(){if(!this.conversationId)throw new Error("No current conversation");try{const t=await this.deepdeskApi.getURLSuggestions(this.conversationId);this.store.dispatch((e=t.slice(0,this.nrUrlSuggestions),{type:sr,payload:e}))}catch(e){}var e}async refreshStickyMessages(){if(!this.conversationId)throw new Error("No current conversation");try{const e=await this.deepdeskApi.getStickyMessages(this.conversationId);this.store.dispatch({type:ar,payload:e})}catch(e){}}populatePlaceholders(e){const{visitorName:t,visitorPostalCode:n,visitorHouseNumber:o}=this.visitorInfo,{agentNickname:r}=this.agentInfo,i=n&&o?`${n} ${o}`:void 0;return function(e,t){return void 0===e&&(e={}),Object.keys(e).filter((e=>t.includes(e))).reduce(((t,n)=>{const o=new RegExp(n.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"g");return t.replace(o,(()=>"string"==typeof e[n]?e[n]:n))}),t)}({"$!{vars.identifier}":t,"{visitor_name}":t,"$!{operator.nickname}":r,"{operator.nickname}":r,"{agent_name}":r,"{postal_code}":n,"{street_number}":o,"{house_number}":o,"{postal_code_house_number}":i,"{postal_code_street_number}":i,"{subscription_name}":t},e)}}class Qs{constructor(e){this.isEnabled=!1,this.targetOrigin=e,this.isFocused=!1}async determinePluginEnabled(){const e=function(e){try{return sessionStorage.getItem("plugin_enabled")}catch(e){return null}}();if(!(e&&parseInt(e,10)+1e4>Date.now()))return new Promise((e=>{const t=n=>{"PONG"===n.data&&(this.isEnabled=!0,window.removeEventListener("message",t),e())};window.addEventListener("message",t),setTimeout((()=>{window.removeEventListener("message",t),e()}),500),this.postMessage("PING",{},{force:!0})}));this.isEnabled=!0}initialize(e){let{url:t,conversationId:n,sessionId:o,platform:r,channel:i,agentInfo:s,visitorInfo:a}=e;this.url=t,this.conversationId=n,this.sessionId=o,this.platform=r,this.channel=i,this.agentInfo=s,this.visitorInfo=a,this.isFocused&&this.startConversation()}setFocus(e){this.isFocused=e,this.isFocused&&this.conversationId&&this.startConversation(),this.conversationId&&this.postMessage(this.isFocused?"SHOW":"HIDE")}startConversation(){this.postMessage("CREATE_CONVERSATION",{url:this.url,conversationId:this.conversationId,sessionId:this.sessionId,platform:this.platform,channel:this.channel,agentInfo:this.agentInfo,visitorInfo:this.visitorInfo})}postMessage(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!this.isEnabled&&!n.force)return;const o={type:e,conversationId:this.conversationId,payload:t};!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("[Deepdesk Iframe]",...t)}("Post message",o),window.parent.postMessage(o,this.targetOrigin)}}var ea={root:"dd_1IGd3",overlay:"dd_3VLG6"};Yr(".dd_1IGd3{position:relative;display:inline-block;width:0!important;height:1em}.dd_3VLG6{position:absolute;bottom:1.5em;left:-19px;width:350px;background-color:#fff;border-radius:5px;-webkit-box-shadow:0 .5em 2em rgba(0,0,0,.15);box-shadow:0 .5em 2em rgba(0,0,0,.15);pointer-events:auto;z-index:1}textarea~div .dd_1IGd3{display:none}.dd_1IGd3:hover,textarea:focus~div .dd_1IGd3{display:inline-block}");const ta=e=>{let{className:t,children:n}=e;const o=Fr("Overlay",ea,{});return Ke.createElement("div",{className:Xn()(t,o.root)},Ke.createElement("div",{className:o.overlay},n))}},184:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)o.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);o&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},15:function(e){"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e.exports=function(e){var n,o,r=(o=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}}(n,o)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[1],s=r[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),l="/*# ".concat(u," */"),c=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[i].concat(c).concat([l]).join("\n")}return[i].join("\n")}},898:function(e,t,n){"use strict";var o=n(15),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([e.id,"/* SuggestionsOverlay */\n\n.dd-38KZzj {\n    position: absolute;\n    left: -7px;\n    right: -6px;\n    bottom: calc(100% + 5px);\n    width: auto;\n}\n\n.dd-1JgG2D {\n    position: relative;\n    overflow: visible !important;\n    background-color: white;\n    border-top-left-radius: 3px !important;\n}\n\n.dd-1JgG2D::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 1px;\n    z-index: -1;\n    -webkit-box-shadow: 1px -1px 7px rgba(0,0,0,0.2);\n            box-shadow: 1px -1px 7px rgba(0,0,0,0.2);\n}\n\n.dd-1shPvu {\n    cursor: pointer;\n    border-top-left-radius: 3px !important;\n    border-top-right-radius: 3px !important;\n}\n\n.dd-1shPvu::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    -webkit-box-shadow: 0 0 7px rgba(0,0,0,0.2), 0 1px 0 white;\n            box-shadow: 0 0 7px rgba(0,0,0,0.2), 0 1px 0 white;\n    -webkit-clip-path: inset(-7px -7px 0 -7px);\n            clip-path: inset(-7px -7px 0 -7px);\n}\n\n.dd-L9wFOQ {\n    top: -20px;\n    right: auto;\n    left: 0px;\n}\n\n.dd-L9wFOQ span {\n    font-size: 11px;\n}\n\n.dd-24_ZE8 .dd-1JgG2D {\n    display: block;\n    height: 0.4em;\n    pointer-events: none;\n}\n\n.dd-24_ZE8 .dd-1JgG2D > * {\n    display: none;\n}\n\n\n/* Suggestion */\n\n.dd-RWuv8C {\n    cursor: pointer;\n    position: relative;\n    padding: 0.4em 10px;\n    margin-bottom: 0;\n    border: 0;\n    border-radius: 0 !important;\n}\n\n.dd-RWuv8C:first-child {\n    border-top-left-radius: 3px !important;\n}\n\n.dd-RWuv8C:hover,\n.dd-nUWyhe {\n    background-color: #dbeafc !important;\n}","",{version:3,sources:["webpack://./src/platforms/LiveEngage/chat.css"],names:[],mappings:"AAAA,uBAAA;;AAEA;IACI,kBAAA;IACA,UAAA;IACA,WAAA;IACA,wBAAA;IACA,WAAA;AACJ;;AAEA;IACI,kBAAA;IACA,4BAAA;IACA,uBAAA;IACA,sCAAA;AACJ;;AAEA;IACI,WAAA;IACA,kBAAA;IACA,MAAA;IACA,OAAA;IACA,QAAA;IACA,WAAA;IACA,WAAA;IACA,gDAAA;YAAA,wCAAA;AAEJ;;AACA;IACI,eAAA;IACA,sCAAA;IACA,uCAAA;AAEJ;;AACA;IACI,WAAA;IACA,kBAAA;IACA,MAAA;IACA,OAAA;IACA,QAAA;IACA,SAAA;IACA,0DAAA;YAAA,kDAAA;IACA,0CAAA;YAAA,kCAAA;AAIJ;;AADA;IACI,UAAA;IACA,WAAA;IACA,SAAA;AAIJ;;AADA;IACI,eAAA;AAIJ;;AADA;IACI,cAAA;IACA,aAAA;IACA,oBAAA;AAIJ;;AADA;IACI,aAAA;AAIJ;;;AAAA,eAAA;;AAEA;IACI,eAAA;IACA,kBAAA;IACA,mBAAA;IACA,gBAAA;IACA,SAAA;IACA,2BAAA;AAIJ;;AADA;IACI,sCAAA;AAIJ;;AADA;;IAEI,oCAAA;AAIJ",sourcesContent:["/* SuggestionsOverlay */\n\n.suggestionsOverlayRoot {\n    position: absolute;\n    left: -7px;\n    right: -6px;\n    bottom: calc(100% + 5px);\n    width: auto;\n}\n\n.suggestionsOverlayCollapsible {\n    position: relative;\n    overflow: visible !important;\n    background-color: white;\n    border-top-left-radius: 3px !important;\n}\n\n.suggestionsOverlayCollapsible::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 1px;\n    z-index: -1;\n    box-shadow: 1px -1px 7px rgba(0,0,0,0.2);\n}\n\n.suggestionsOverlayToggleButton {\n    cursor: pointer;\n    border-top-left-radius: 3px !important;\n    border-top-right-radius: 3px !important;\n}\n\n.suggestionsOverlayToggleButton::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    box-shadow: 0 0 7px rgba(0,0,0,0.2), 0 1px 0 white;\n    clip-path: inset(-7px -7px 0 -7px);\n}\n\n.suggestionsOverlayHints {\n    top: -20px;\n    right: auto;\n    left: 0px;\n}\n\n.suggestionsOverlayHints span {\n    font-size: 11px;\n}\n\n.suggestionsOverlayIsCollapsed .suggestionsOverlayCollapsible {\n    display: block;\n    height: 0.4em;\n    pointer-events: none;\n}\n\n.suggestionsOverlayIsCollapsed .suggestionsOverlayCollapsible > * {\n    display: none;\n}\n\n\n/* Suggestion */\n\n.suggestionRoot {\n    cursor: pointer;\n    position: relative;\n    padding: 0.4em 10px;\n    margin-bottom: 0;\n    border: 0;\n    border-radius: 0 !important;\n}\n\n.suggestionRoot:first-child {\n    border-top-left-radius: 3px !important;\n}\n\n.suggestionRoot:hover,\n.suggestionIsSelected {\n    background-color: #dbeafc !important;\n}"],sourceRoot:""}]),s.locals={suggestionsOverlayRoot:"dd-38KZzj",suggestionsOverlayCollapsible:"dd-1JgG2D",suggestionsOverlayToggleButton:"dd-1shPvu",suggestionsOverlayHints:"dd-L9wFOQ",suggestionsOverlayIsCollapsed:"dd-24_ZE8",suggestionRoot:"dd-RWuv8C",suggestionIsSelected:"dd-nUWyhe"},t.Z=s},187:function(e,t,n){"use strict";var o=n(15),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([e.id,"/* SuggestionsOverlay */\n\n.dd-2k7CDR {\n    color: #555;\n    position: absolute;\n    left: 2px;\n    right: 0;\n    bottom: calc(100% + 11px);\n}\n\n.dd-3o_mqo {\n    position: relative;\n    overflow: visible !important;\n    background-color: white;\n    border-top-left-radius: 3px !important;\n}\n\n.dd-3o_mqo::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 1px;\n    z-index: -1;\n    -webkit-box-shadow: 1px -1px 7px rgba(0, 0, 0, 0.2);\n            box-shadow: 1px -1px 7px rgba(0, 0, 0, 0.2);\n}\n\n.dd-3SiU97 {\n    cursor: pointer;\n    border-top-left-radius: 3px !important;\n    border-top-right-radius: 3px !important;\n}\n\n.dd-3SiU97::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    -webkit-box-shadow: 0 0 7px rgba(0, 0, 0, 0.2), 0 1px 0 white;\n            box-shadow: 0 0 7px rgba(0, 0, 0, 0.2), 0 1px 0 white;\n    -webkit-clip-path: inset(-7px -7px 0 -7px);\n            clip-path: inset(-7px -7px 0 -7px);\n}\n\n.dd-3SBbRY {\n    top: -20px;\n    right: auto;\n    left: 0px;\n}\n\n.dd-3SBbRY span {\n    font-size: 11px;\n}\n\n.dd-3CpPZl {\n    right: 45px;\n}\n\n.dd-3CpPZl .dd-3o_mqo {\n    display: block;\n    height: 0.4em;\n    pointer-events: none;\n}\n\n.dd-3CpPZl .dd-3o_mqo > * {\n    display: none;\n}\n\nbody.theme-dark .dd-3SiU97 {\n    background-color: #f0f3f7;\n}\n\n/* Suggestion */\n\n.dd-1a4x3z {\n    cursor: pointer;\n    position: relative;\n    padding: 0.4em 7px;\n    margin-bottom: 0;\n    border: 0;\n    border-radius: 0 !important;\n}\n\n.dd-1a4x3z:first-child {\n    border-top-left-radius: 3px !important;\n}\n\n.dd-1a4x3z:hover,\n.dd-orAizJ {\n    background-color: #dbeafc !important;\n}\n\nbody.theme-dark .dd-1a4x3z {\n    background-color: #f0f3f7;\n}\n","",{version:3,sources:["webpack://./src/platforms/LiveEngage/messaging.css"],names:[],mappings:"AAAA,uBAAA;;AAEA;IACI,WAAA;IACA,kBAAA;IACA,SAAA;IACA,QAAA;IACA,yBAAA;AACJ;;AAEA;IACI,kBAAA;IACA,4BAAA;IACA,uBAAA;IACA,sCAAA;AACJ;;AAEA;IACI,WAAA;IACA,kBAAA;IACA,MAAA;IACA,OAAA;IACA,QAAA;IACA,WAAA;IACA,WAAA;IACA,mDAAA;YAAA,2CAAA;AAEJ;;AACA;IACI,eAAA;IACA,sCAAA;IACA,uCAAA;AAEJ;;AACA;IACI,WAAA;IACA,kBAAA;IACA,MAAA;IACA,OAAA;IACA,QAAA;IACA,SAAA;IACA,6DAAA;YAAA,qDAAA;IACA,0CAAA;YAAA,kCAAA;AAIJ;;AADA;IACI,UAAA;IACA,WAAA;IACA,SAAA;AAIJ;;AADA;IACI,eAAA;AAIJ;;AADA;IACI,WAAA;AAIJ;;AADA;IACI,cAAA;IACA,aAAA;IACA,oBAAA;AAIJ;;AADA;IACI,aAAA;AAIJ;;AADA;IACI,yBAAA;AAIJ;;AADA,eAAA;;AAEA;IACI,eAAA;IACA,kBAAA;IACA,kBAAA;IACA,gBAAA;IACA,SAAA;IACA,2BAAA;AAIJ;;AADA;IACI,sCAAA;AAIJ;;AADA;;IAEI,oCAAA;AAIJ;;AADA;IACI,yBAAA;AAIJ",sourcesContent:["/* SuggestionsOverlay */\n\n.suggestionsOverlayRoot {\n    color: #555;\n    position: absolute;\n    left: 2px;\n    right: 0;\n    bottom: calc(100% + 11px);\n}\n\n.suggestionsOverlayCollapsible {\n    position: relative;\n    overflow: visible !important;\n    background-color: white;\n    border-top-left-radius: 3px !important;\n}\n\n.suggestionsOverlayCollapsible::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 1px;\n    z-index: -1;\n    box-shadow: 1px -1px 7px rgba(0, 0, 0, 0.2);\n}\n\n.suggestionsOverlayToggleButton {\n    cursor: pointer;\n    border-top-left-radius: 3px !important;\n    border-top-right-radius: 3px !important;\n}\n\n.suggestionsOverlayToggleButton::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    box-shadow: 0 0 7px rgba(0, 0, 0, 0.2), 0 1px 0 white;\n    clip-path: inset(-7px -7px 0 -7px);\n}\n\n.suggestionsOverlayHints {\n    top: -20px;\n    right: auto;\n    left: 0px;\n}\n\n.suggestionsOverlayHints span {\n    font-size: 11px;\n}\n\n.suggestionsOverlayIsCollapsed {\n    right: 45px;\n}\n\n.suggestionsOverlayIsCollapsed .suggestionsOverlayCollapsible {\n    display: block;\n    height: 0.4em;\n    pointer-events: none;\n}\n\n.suggestionsOverlayIsCollapsed .suggestionsOverlayCollapsible > * {\n    display: none;\n}\n\n:global body.theme-dark :local .suggestionsOverlayToggleButton {\n    background-color: #f0f3f7;\n}\n\n/* Suggestion */\n\n.suggestionRoot {\n    cursor: pointer;\n    position: relative;\n    padding: 0.4em 7px;\n    margin-bottom: 0;\n    border: 0;\n    border-radius: 0 !important;\n}\n\n.suggestionRoot:first-child {\n    border-top-left-radius: 3px !important;\n}\n\n.suggestionRoot:hover,\n.suggestionIsSelected {\n    background-color: #dbeafc !important;\n}\n\n:global body.theme-dark :local .suggestionRoot {\n    background-color: #f0f3f7;\n}\n"],sourceRoot:""}]),s.locals={suggestionsOverlayRoot:"dd-2k7CDR",suggestionsOverlayCollapsible:"dd-3o_mqo",suggestionsOverlayToggleButton:"dd-3SiU97",suggestionsOverlayHints:"dd-3SBbRY",suggestionsOverlayIsCollapsed:"dd-3CpPZl",suggestionRoot:"dd-1a4x3z",suggestionIsSelected:"dd-orAizJ"},t.Z=s},679:function(e,t,n){"use strict";var o=n(864),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(e){return o.isMemo(e)?s:a[e.$$typeof]||r}a[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[o.Memo]=s;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,o){if("string"!=typeof n){if(h){var r=f(n);r&&r!==h&&e(t,r,o)}var s=c(n);d&&(s=s.concat(d(n)));for(var a=u(t),g=u(n),m=0;m<s.length;++m){var v=s[m];if(!(i[v]||o&&o[v]||g&&g[v]||a&&a[v])){var y=p(n,v);try{l(t,v,y)}catch(e){}}}}return t}},296:function(e,t,n){var o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,h=function(){return c.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=i.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var o,r,i,s,a,u,l=0,c=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=o,i=r;return o=r=void 0,l=t,s=e.apply(i,n)}function _(e){return l=e,a=setTimeout(A,t),c?y(e):s}function b(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=i}function A(){var e=h();if(b(e))return w(e);a=setTimeout(A,function(e){var n=t-(e-u);return d?f(n,i-(e-l)):n}(e))}function w(e){return a=void 0,v&&o?y(e):(o=r=void 0,s)}function x(){var e=h(),n=b(e);if(o=arguments,r=this,u=e,n){if(void 0===a)return _(u);if(d)return a=setTimeout(A,t),y(u)}return void 0===a&&(a=setTimeout(A,t)),s}return t=m(t)||0,g(n)&&(c=!!n.leading,i=(d="maxWait"in n)?p(m(n.maxWait)||0,t):i,v="trailing"in n?!!n.trailing:v),x.cancel=function(){void 0!==a&&clearTimeout(a),l=0,o=u=r=a=void 0},x.flush=function(){return void 0===a?s:w(h())},x}},703:function(e,t,n){"use strict";var o=n(414);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function A(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case c:case d:case i:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case p:case m:case g:case u:return e;default:return t}}case r:return t}}}function w(e){return A(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=i,t.Lazy=m,t.Memo=g,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||A(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return A(e)===l},t.isContextProvider=function(e){return A(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return A(e)===p},t.isFragment=function(e){return A(e)===i},t.isLazy=function(e){return A(e)===m},t.isMemo=function(e){return A(e)===g},t.isPortal=function(e){return A(e)===r},t.isProfiler=function(e){return A(e)===a},t.isStrictMode=function(e){return A(e)===s},t.isSuspense=function(e){return A(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===a||e===s||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=A},864:function(e,t,n){"use strict";e.exports=n(921)},783:function(e,t,n){"use strict";n.r(t);var o=n(379),r=n.n(o),i=n(898);r()(i.Z,{insert:"head",singleton:!1}),t.default=i.Z.locals||{}},451:function(e,t,n){"use strict";n.r(t);var o=n(379),r=n.n(o),i=n(187);r()(i.Z,{insert:"head",singleton:!1}),t.default=i.Z.locals||{}},379:function(e,t,n){"use strict";var o,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function s(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},o=[],r=0;r<e.length;r++){var a=e[r],u=t.base?a[0]+t.base:a[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=s(c),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(p)):i.push({identifier:c,updater:g(p,t),references:1}),o.push(c)}return o}function u(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function p(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,h=0;function g(e,t){var n,o,r;if(t.singleton){var i=h++;n=f||(f=u(t)),o=d.bind(null,n,i,!1),r=d.bind(null,n,i,!0)}else n=u(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=s(n[o]);i[r].references--}for(var u=a(e,t),l=0;l<n.length;l++){var c=s(n[l]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=u}}}},407:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(278);t.default=class{constructor(e){this.config=e,this.disposeHandlers=[],this.isMounted=!1,this.isDisposed=!1,this.deepdeskSDK=e.deepdeskSDK,this.mount()}mount(){const e=o.onAddedToDom(this.config.inputSelector,(e=>{if(this.config.onFoundInput&&!this.config.onFoundInput(e))return;this.inputTargetElement=e,this.tagInputElement();const t=o.onRenderedOnce(this.inputTargetElement,(()=>{this.render(),this.isMounted=!0}));this.disposeHandlers.push(t);const n=o.onRemovedFromDom(e,(()=>{this.dispose(),this.isMounted=!1}));this.disposeHandlers.push(n)}));this.disposeHandlers.push(e)}render(){o.log("rendering tab and autocomplete",this.deepdeskSDK.conversationId);const{InputMediator:e}=this.config;this.startHandlingTime();const t=o.onVisibilityChange(this.inputTargetElement,(e=>{e?this.startHandlingTime():this.stopHandlingTime()}));this.disposeHandlers.push(t),this.deepdeskSDK.mount(this.inputTargetElement,{detectSubmit:!0,InputMediator:e,suggestionsOverlay:{showToggleButton:!0,customStyles:this.config.customStyles,nrTextSuggestions:3}}),this.platformInput=this.deepdeskSDK.inputMediator,this.bindSdkUpdates(),this.bindSettingUpdates()}tagInputElement(){const{conversationId:e}=this.deepdeskSDK,t=this.inputTargetElement.getAttribute("data-deepdesk"),n=t?t.split(","):[];n.push(e),this.inputTargetElement.setAttribute("data-deepdesk",n.join(","))}untagInputElement(){if(!this.inputTargetElement)return;const e=`${this.deepdeskSDK.conversationId}`,t=this.inputTargetElement.getAttribute("data-deepdesk"),n=t?t.split(",").filter((t=>t!==e)):[];0===n.length?this.inputTargetElement.removeAttribute("data-deepdesk"):this.inputTargetElement.setAttribute("data-deepdesk",n.join(","))}bindSettingUpdates(){const e=()=>{try{const e=JSON.parse(window.sessionStorage.getItem("deepdesk-settings")||"{}");Object.entries(e).forEach((e=>{const[t,n]=e,o=this.deepdeskSDK.settings[t];void 0!==o&&o!==n&&this.deepdeskSDK.configure(t,n)}))}catch(e){o.log("Error updating plugin settings",e)}};window.addEventListener("deepdesk:settings",e),this.disposeHandlers.push((()=>{window.removeEventListener("deepdesk:settings",e)})),e()}bindSdkUpdates(){this.disposeHandlers.push(this.deepdeskSDK.on("select-url-suggestion",(e=>{this.platformInput.setText(this.platformInput.getText()+e.text.trim())})),this.deepdeskSDK.on("select-sticky-message",(e=>{this.platformInput.setText(this.platformInput.getText()+e.text.trim())})),this.deepdeskSDK.on("select-text-suggestion",(e=>{this.platformInput.setText(e.text)})),this.deepdeskSDK.on("reset",(e=>{this.platformInput.setText(e.text)})))}show(){this.startHandlingTime(),this.deepdeskSDK.configure("visible",!0),this.platformInput&&this.platformInput.activate()}hide(){this.stopHandlingTime(),this.deepdeskSDK.configure("visible",!1),this.platformInput&&this.platformInput.deactivate()}startHandlingTime(){this.isDisposed||this.deepdeskSDK.handlingTime.startTime||(o.log("start handling time",this.deepdeskSDK.conversationId),this.deepdeskSDK.handlingTimeStart())}stopHandlingTime(){this.isDisposed||this.deepdeskSDK.handlingTime.startTime&&(o.log("stop handling time",this.deepdeskSDK.conversationId),this.deepdeskSDK.handlingTimeStop())}dispose(){this.isDisposed||(o.log("cleaning up conversation",this.deepdeskSDK.conversationId),this.stopHandlingTime(),this.untagInputElement(),this.platformInput&&this.platformInput.dispose(),this.deepdeskSDK.isMounted&&this.deepdeskSDK.unmount(),this.disposeHandlers.map((e=>e())),this.isDisposed=!0)}}},42:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.conversations=new Map}register(e,t){this.cleanup(),this.conversations.has(e)&&this.remove(e),this.conversations.set(e,t)}cleanup(){this.conversations.forEach(((e,t)=>{e.isMounted||this.remove(t)}))}clearAll(){this.conversations.forEach(((e,t)=>{this.remove(t)})),this.conversations.clear()}size(){return this.conversations.size}get(e){return this.conversations.get(e)}remove(e){const t=this.get(e);t.isDisposed||t.dispose(),this.conversations.delete(e)}}},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifierKeyPressed=t.injectCss=t.extractTextFromHtml=t.isTextArea=t.detectPlatform=t.log=t.onVisibilityChange=t.onRenderedOnce=t.onDisabledStateChange=t.onRemovedFromDom=t.onAddedToDom=t.isInViewport=t.isRendered=t.toAppIdentifier=t.text2Html=void 0;const o=n(699);function r(e){return null!==e.offsetParent}function i(e){if(!r(e))return!1;const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}let s;t.text2Html=function(e){return e.replace(/(https?:\/\/\S+)/g,'<a href="$1" rel="noopener" target="_blank">$1</a>').replace(/\r\n?|\n/g,"<br/>")},t.toAppIdentifier=function(e){return window.location.hash?window.location.hash.includes("my-connections")?`my-${e}`:window.location.hash.includes("all-connections")?`all-${e}`:e:e},t.isRendered=r,t.isInViewport=i;const a=new Set;function u(e){return a.add(e),s||(s=new MutationObserver((()=>{a.forEach((e=>{document&&e()&&a.delete(e)}))})),s.observe(document.body,{childList:!0,subtree:!0})),()=>{a.delete(e)}}const l=e=>{if(!document)return null;const t=document.querySelectorAll(e);if(0===t.length)return null;if(t.length>1)throw new Error("Expected 1 target");return t[0]};let c,d;t.onAddedToDom=function(e,t){const n=l(e);if(n){const e=setTimeout((()=>t(n)));return()=>{clearTimeout(e)}}return u((()=>{const n=l(e);return!!n&&(t(n),!0)}))},t.onRemovedFromDom=function(e,t){if(!document.body.contains(e)){const e=setTimeout(t);return()=>{clearTimeout(e)}}return u((()=>!document.body.contains(e)&&(t(),!0)))},t.onDisabledStateChange=function(e,t){const n=new MutationObserver((n=>{n.forEach((n=>{switch(n.attributeName){case"contenteditable":t({isDisabled:!e.isContentEditable});break;case"disabled":t({isDisabled:!e.disabled})}}))}));return n.observe(e,{attributes:!0}),()=>{n.disconnect()}},t.onRenderedOnce=function e(t,n){return r(t)?(n(t),()=>{}):(c=setTimeout((()=>{e(t,n)}),500),()=>{clearTimeout(c)})},t.onVisibilityChange=function e(t,n){const o=i(t);return d=setTimeout((()=>{o!==i(t)&&n(!o),e(t,n)}),500),()=>{clearTimeout(d)}},t.log=function(...e){console.log("[Deepdesk Plugin]",...e)},t.detectPlatform=function(){if(window.location.origin.includes("liveperson.net"))return o.Platform.LIVEENGAGE;if(window.Engagor)return o.Platform.CLARABRIDGE;throw new Error("Unsupported platform")},t.isTextArea=function(e){return"textarea"===e.tagName.toLowerCase()},t.extractTextFromHtml=function e(t,n={}){return[...t.childNodes].map((t=>{switch(t.nodeType){case Node.ELEMENT_NODE:switch(t.nodeName){case"DIV":return e(t)+(t.nextSibling?"\n":"");case"BR":return 1===t.parentElement.childNodes.length||n.ignoreLastBr&&null===t.nextSibling?"":"\n";default:return e(t)}case Node.TEXT_NODE:return t.textContent;default:return""}})).join("")};const p=new Set;t.injectCss=function(e){if(!e||p.has(e))return;const t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t),p.add(e)},t.modifierKeyPressed=function(e){return e.ctrlKey||e.shiftKey||e.metaKey||e.altKey}},849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(965),r=n(278);class i extends o.ContentEditableInput{getText(){return r.extractTextFromHtml(this.element,{ignoreLastBr:!0}).replace(/[\u200B-\u200D\uFEFF]/g,"")}setText(e){this.element.innerHTML=r.text2Html(e)}listen(){super.listen(),this.addEventListener("paste",(()=>{setTimeout((()=>{this.triggerChange()}),1)}));const e=r.onDisabledStateChange(this.element,(({isDisabled:e})=>this.emit(e?"disabled":"enabled")));this.disposeHandlers.push(e)}}t.default=i},424:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(965),r=n(278);class i extends o.ContentEditableInput{getText(){return r.extractTextFromHtml(this.element).replace(/[\u200B-\u200D\uFEFF]/g,"")}setText(e){this.element.innerHTML=e}}t.default=i},726:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(965),i=o(n(407)),s=n(278),a=o(n(849)),u=o(n(451)),l=o(n(783)),c=o(n(424));t.default=function(e){function t(t){if(!t.origin.endsWith("deepdesk.com"))return;if("object"!=typeof t.data||!t.data.type)return;if("PING"===t.data.type)return void document.querySelectorAll(`iframe[src^="${t.origin}"]`).forEach((e=>{e.contentWindow.postMessage("PONG",t.origin)}));const{conversationId:n}=t.data;if(!n)return;const o=s.toAppIdentifier(n);if("CREATE_CONVERSATION"===t.data.type){const d=function({url:e,conversationId:t,platform:n,channel:o,agentInfo:d,visitorInfo:p,sessionId:f}){if(!(e&&t&&n&&o))return null;const h=new r.DeepdeskSDK({deepdeskUrl:`${e}/api`,version:"2.2.5"});let g;switch(h.conversationId=t,d&&h.setAgentInfo(d),p&&h.setVisitorInfo(p),o){case"chat":s.injectCss("\n                .lpview_chat_lines_area.chat_messages {\n                    padding-bottom: 80px;\n                }\n            "),g=new i.default({deepdeskSDK:h,customStyles:{SuggestionsOverlay:{root:l.default.suggestionsOverlayRoot,collapsible:l.default.suggestionsOverlayCollapsible,toggleButton:l.default.suggestionsOverlayToggleButton,hints:l.default.suggestionsOverlayHints,isCollapsed:l.default.suggestionsOverlayIsCollapsed},Suggestion:{root:l.default.suggestionRoot,isSelected:l.default.suggestionIsSelected}},InputMediator:a.default,inputSelector:`\n                    .lpview_engagement_widget[style*="block"]\n                    .cke_wysiwyg_div[contenteditable="true"]:not(\n                        [data-deepdesk*="${t}"]\n                    )\n                `,onFoundInput(e){const t=window.App.chatController.getModelParam("participants.myEngagements");if(!t)return!1;const n=Object.keys(t).find((e=>Object.keys(t[e].chats).some((e=>e===f))));if(!n)return!1;const o=t[n].participantTag;return document.querySelector(`\n                        .lpview_engagement_widget >\n                        .active_engagement.${o}\n                        .cke_wysiwyg_div[contenteditable="true"]\n                    `)===e}});break;case"messaging":s.injectCss("\n                .conversation-dialog-messages {\n                    padding-bottom: 80px;\n                }\n\n                body.theme-dark .ql-editor a {\n                    color: white;\n                },\n            "),g=new i.default({deepdeskSDK:h,InputMediator:c.default,customStyles:{SuggestionsOverlay:{root:u.default.suggestionsOverlayRoot,collapsible:u.default.suggestionsOverlayCollapsible,toggleButton:u.default.suggestionsOverlayToggleButton,hints:u.default.suggestionsOverlayHints,isCollapsed:u.default.suggestionsOverlayIsCollapsed},Suggestion:{root:u.default.suggestionRoot,isSelected:u.default.suggestionIsSelected}},inputSelector:"\n                    .my-connections-page:not([style*=none]) .editor-control-container,\n                    .all-connections-page .editor-control-container\n                ",onFoundInput(e){const t=document.querySelectorAll(`\n                        .my-connections-page:not([style*=none])\n                        #naw-conversation-tabpanel-${f},\n                        .all-connections-page #naw-conversation-tabpanel-${f}\n                    `);return!e.dataset.deepdesk&&t.length>0}});break;default:return null}return g}(Object.assign({conversationId:n},t.data.payload));if(!d)return;return void e.register(o,d)}const d=e.get(o);if(d)switch(t.data.type){case"UPDATE":d.deepdeskSDK.conversationId&&d.deepdeskSDK.refresh();break;case"USE_URL_SUGGESTION":d.deepdeskSDK.notifyExternalUrlSuggestion(t.data.payload);break;case"USE_STICKY_MESSAGE":d.deepdeskSDK.notifyExternalStickyMessage(t.data.payload);break;case"SHOW":d.show();break;case"HIDE":d.hide();break;case"DISPOSE":e.remove(o)}}return window.addEventListener("message",t,!1),()=>{window.removeEventListener("message",t),e.clearAll()}}},828:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(42)),i=o(n(726)),s=new r.default;i.default(s)},699:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0,(n=t.Platform||(t.Platform={})).LIVEENGAGE="liveengage",n.CLARABRIDGE="clarabridge"}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={id:o,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(828)}();